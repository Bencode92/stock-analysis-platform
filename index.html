<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingHub - Analyse d'Actions en Temps Réel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <!-- TradingView Widget -->
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-chart-line"></i> TradingHub</h1>
            <p class="tagline">Données de marché en temps réel et analyse professionnelle</p>
        </div>
    </header>

    <main class="container">
        <section class="search-section">
            <h2>Rechercher un titre</h2>
            <div class="search-box">
                <input type="text" id="stockSymbol" placeholder="Entrez un symbole boursier (ex: AAPL, MSFT, SPY...)" autofocus>
                <button id="searchBtn"><i class="fas fa-search"></i> Rechercher</button>
            </div>
            <div class="popular-searches">
                <span>Populaires:</span>
                <a href="#" class="stock-tag" data-symbol="AAPL">AAPL</a>
                <a href="#" class="stock-tag" data-symbol="MSFT">MSFT</a>
                <a href="#" class="stock-tag" data-symbol="GOOGL">GOOGL</a>
                <a href="#" class="stock-tag" data-symbol="AMZN">AMZN</a>
                <a href="#" class="stock-tag" data-symbol="SPY">SPY</a>
                <a href="#" class="stock-tag" data-symbol="BTC">BTC-USD</a>
                <a href="#" class="stock-tag" data-symbol="ETH">ETH-USD</a>
            </div>
        </section>

        <section id="marketOverview" class="market-overview">
            <div class="section-header">
                <h2>Aperçu du marché</h2>
                <span id="marketTime">Dernière mise à jour: --</span>
            </div>
            <div class="market-indices">
                <div class="index-card">
                    <h3>S&P 500</h3>
                    <div class="index-value" id="sp500Value">--</div>
                    <div class="index-change" id="sp500Change">--</div>
                </div>
                <div class="index-card">
                    <h3>Nasdaq</h3>
                    <div class="index-value" id="nasdaqValue">--</div>
                    <div class="index-change" id="nasdaqChange">--</div>
                </div>
                <div class="index-card">
                    <h3>Dow Jones</h3>
                    <div class="index-value" id="dowValue">--</div>
                    <div class="index-change" id="dowChange">--</div>
                </div>
                <div class="index-card">
                    <h3>CAC 40</h3>
                    <div class="index-value" id="cacValue">--</div>
                    <div class="index-change" id="cacChange">--</div>
                </div>
            </div>
            <div id="tradingViewWidget" class="tradingview-widget"></div>
        </section>

        <section id="watchlistSection" class="watchlist-section">
            <div class="section-header">
                <h2>Ma Liste de Suivi</h2>
                <button id="refreshBtn" class="refresh-btn"><i class="fas fa-sync-alt"></i> Actualiser</button>
            </div>
            <div class="table-container">
                <table id="watchlistTable">
                    <thead>
                        <tr>
                            <th>Symbole</th>
                            <th>Nom</th>
                            <th>Dernier Prix</th>
                            <th>Variation J</th>
                            <th>Variation 1M</th>
                            <th>Variation 3M</th>
                            <th>Variation 6M</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="watchlistBody">
                        <!-- Les données seront insérées ici dynamiquement -->
                    </tbody>
                </table>
            </div>
            <div id="emptyWatchlist" class="empty-state">
                <i class="fas fa-search"></i>
                <p>Votre liste de suivi est vide. Recherchez une action ou un ETF pour commencer.</p>
            </div>
        </section>

        <section id="stockDetailSection" class="stock-detail-section hidden">
            <div class="section-header">
                <h2 id="stockDetailName">Détails du Titre</h2>
                <div class="actions">
                    <button id="addToWatchlistBtn" class="action-btn"><i class="fas fa-plus"></i> Ajouter à la liste</button>
                    <button id="backBtn" class="action-btn secondary"><i class="fas fa-arrow-left"></i> Retour</button>
                </div>
            </div>

            <div class="stock-overview">
                <div class="stock-price-info">
                    <div class="current-price" id="currentPrice">--</div>
                    <div class="price-change" id="priceChange">--</div>
                </div>
                <div class="stock-meta" id="stockMeta">
                    <!-- Informations sur l'entreprise insérées ici -->
                </div>
            </div>

            <div id="advancedChart" class="advanced-chart">
                <!-- TradingView Advanced Chart sera inséré ici -->
            </div>

            <div class="key-metrics">
                <div class="metric-card">
                    <h4>Prix ouverture</h4>
                    <p id="openPrice">--</p>
                </div>
                <div class="metric-card">
                    <h4>Plus haut du jour</h4>
                    <p id="dayHigh">--</p>
                </div>
                <div class="metric-card">
                    <h4>Plus bas du jour</h4>
                    <p id="dayLow">--</p>
                </div>
                <div class="metric-card">
                    <h4>Volume</h4>
                    <p id="volume">--</p>
                </div>
                <div class="metric-card">
                    <h4>Capitalisation</h4>
                    <p id="marketCap">--</p>
                </div>
                <div class="metric-card">
                    <h4>P/E Ratio</h4>
                    <p id="peRatio">--</p>
                </div>
                <div class="metric-card">
                    <h4>Dividende (%)</h4>
                    <p id="dividend">--</p>
                </div>
                <div class="metric-card">
                    <h4>52 sem. haut</h4>
                    <p id="fiftyTwoWeekHigh">--</p>
                </div>
            </div>

            <div class="news-section">
                <h3>Actualités récentes</h3>
                <div id="newsContainer" class="news-container">
                    <!-- Les actualités seront insérées ici dynamiquement -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 TradingHub. Les données sont fournies à titre informatif uniquement et ne constituent pas un conseil financier.</p>
        </div>
    </footer>

    <!-- Modal pour les messages -->
    <div id="messageModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <p id="modalMessage"></p>
        </div>
    </div>

    <!-- Chargement des scripts JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chart.js/3.9.1/chart.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
