<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradePulse - Actualités Financières</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="enhanced-ui.css">
    <link rel="stylesheet" href="news-enhancements.css">
    <script type="module" src="aiintegration.js"></script>
    <style>
        /* Variables et reset */
        :root {
            --background-color: #011627; /* Bleu nuit */
            --background-gradient: linear-gradient(135deg, #010e1a, #011627 70%);
            --text-color: #FFFFFF;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --accent-color: #00FF87; /* Vert néon */
            --accent-glow: 0 0 10px rgba(0, 255, 135, 0.6);
            --transition-time: 0.3s;
            --header-height: 70px;
            --sidebar-width: 80px;
            --card-bg: rgba(1, 30, 52, 0.5);
            --card-border: 1px solid rgba(0, 255, 135, 0.2);
            --card-radius: 12px;
            --card-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            --high-impact: #ff4c4c;
            --medium-impact: #ffc107;
            --low-impact: #2196f3;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        
        body {
            background: var(--background-gradient);
            color: var(--text-color);
            line-height: 1.6;
            overflow-x: hidden;
            font-size: 16px;
            min-height: 100vh;
        }
        
        /* Styles de base */
        a {
            color: var(--text-color);
            text-decoration: none;
            transition: all 0.2s ease;
        }
        
        /* Header */
        .main-header {
            position: fixed;
            top: 0;
            left: var(--sidebar-width);
            right: 0;
            height: var(--header-height);
            background-color: rgba(1, 22, 39, 0.9);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 40px;
            z-index: 100;
            border-bottom: 1px solid rgba(0, 255, 135, 0.1);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .header-left {
            display: flex;
            align-items: center;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            font-weight: 900;
            font-size: 1.5rem;
            letter-spacing: 1px;
        }
        
        .pulse-dot {
            width: 12px;
            height: 12px;
            background-color: var(--accent-color);
            border-radius: 50%;
            margin-right: 10px;
            box-shadow: 0 0 10px var(--accent-color);
            animation: pulse 2s infinite;
        }
        
        .main-nav {
            display: flex;
            margin-left: 40px;
        }
        
        .main-nav a {
            margin-right: 30px;
            padding: 8px 5px;
            font-weight: 500;
            position: relative;
            transition: color 0.3s;
        }
        
        .main-nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--accent-color);
            transition: width 0.3s;
        }
        
        .main-nav a:hover::after,
        .main-nav a.active::after {
            width: 100%;
        }
        
        .main-nav a.active {
            color: var(--accent-color);
        }
        
        .header-right {
            display: flex;
            align-items: center;
        }
        
        .market-status {
            display: flex;
            align-items: center;
            margin-right: 30px;
            font-size: 0.875rem;
        }
        
        .market-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .market-indicator.green {
            background-color: #4CAF50;
            box-shadow: 0 0 8px rgba(76, 175, 80, 0.6);
        }
        
        .market-time {
            margin-left: 10px;
            font-weight: 600;
            color: var(--accent-color);
        }
        
        .search-button {
            padding: 10px 20px;
            background-color: rgba(0, 255, 135, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            transition: all 0.3s;
            border: 1px solid rgba(0, 255, 135, 0.3);
        }
        
        .search-button:hover {
            background-color: rgba(0, 255, 135, 0.2);
            transform: translateY(-2px);
        }
        
        .search-button i {
            margin-right: 8px;
            color: var(--accent-color);
        }
        
        /* Sidebar de navigation verticale */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: var(--sidebar-width);
            height: 100vh;
            background-color: rgba(1, 15, 26, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 0;
            z-index: 101;
            border-right: 1px solid rgba(0, 255, 135, 0.1);
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.2);
        }
        
        .sidebar-logo {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--accent-color);
            margin-bottom: 40px;
            text-shadow: 0 0 10px rgba(0, 255, 135, 0.5);
        }
        
        .sidebar-nav {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-grow: 1;
        }
        
        .nav-item {
            margin-bottom: 20px;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 8px;
            color: rgba(255, 255, 255, 0.7);
            transition: all 0.3s;
            position: relative;
        }
        
        .nav-item:hover, .nav-item.active {
            background-color: rgba(0, 255, 135, 0.1);
            color: var(--accent-color);
        }
        
        .nav-item i {
            font-size: 1.2rem;
        }
        
        /* Main container */
        .main-container {
            margin-left: var(--sidebar-width);
            margin-top: var(--header-height);
            padding: 0;
            min-height: calc(100vh - var(--header-height));
        }
        
        /* Animation de complétion */
        .update-complete {
            display: none;
            text-align: center;
            margin-top: 20px;
        }

        .success-checkmark {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            position: relative;
            animation: check-appear 0.8s ease forwards;
        }

        .success-checkmark::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background-color: rgba(0, 255, 135, 0.1);
            transform: scale(0);
            animation: circle-expand 0.5s ease forwards;
        }

        .success-checkmark i {
            font-size: 40px;
            color: var(--accent-color);
            position: relative;
            opacity: 0;
            animation: check-appear 0.5s ease 0.3s forwards;
        }

        @keyframes circle-expand {
            to { transform: scale(1); }
        }

        @keyframes check-appear {
            to { opacity: 1; }
        }
        
        /* Modal de mise à jour */
        #update-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(1, 22, 39, 0.9);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }
        
        .update-modal {
            background: linear-gradient(135deg, rgba(1, 22, 39, 0.95), rgba(1, 15, 26, 0.95));
            border: 2px solid var(--accent-color);
            border-radius: 16px;
            box-shadow: 0 0 50px rgba(0, 255, 135, 0.3),
                        inset 0 0 20px rgba(0, 255, 135, 0.1);
            width: 95%;
            max-width: 550px;
            padding: 40px;
            text-align: center;
            backdrop-filter: blur(15px);
            animation: modal-appear 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }
        
        @keyframes modal-appear {
            from { 
                opacity: 0;
                transform: scale(0.8);
            }
            to { 
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .modal-title {
            color: var(--accent-color);
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 25px;
            text-shadow: 0 0 15px rgba(0, 255, 135, 0.3);
            letter-spacing: 1px;
        }

        .modal-title::after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background-color: var(--accent-color);
            margin: 15px auto 0;
            border-radius: 3px;
            box-shadow: 0 0 10px rgba(0, 255, 135, 0.6);
        }
        
        .modal-message {
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 30px;
            max-width: 90%;
            margin-left: auto;
            margin-right: auto;
        }
        
        .last-update-box {
            background-color: rgba(0, 255, 135, 0.08);
            border-left: 3px solid var(--accent-color);
            border-radius: 6px;
            padding: 15px;
            margin: 30px 0;
            text-align: left;
            font-size: 14px;
            display: flex;
            align-items: center;
        }

        .last-update-box i {
            font-size: 18px;
            color: var(--accent-color);
            margin-right: 12px;
        }
        
        .update-time {
            color: var(--accent-color);
            font-weight: 600;
        }
        
        .modal-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 35px;
        }
        
        .modal-btn {
            padding: 14px 28px;
            border: 2px solid var(--accent-color);
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 180px;
            background: transparent;
            color: var(--text-color);
            position: relative;
            overflow: hidden;
        }
        
        .modal-btn.primary {
            background-color: var(--accent-color);
            color: var(--background-color);
        }
        
        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 255, 135, 0.4);
        }
        
        .modal-btn.primary:hover {
            background-color: #00d673;
        }
        
        .modal-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent 0%,
                rgba(255, 255, 255, 0.2) 50%,
                transparent 100%
            );
            transition: all 0.5s ease;
        }

        .modal-btn:hover::before {
            left: 100%;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(0, 255, 135, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(0, 255, 135, 0); }
            100% { box-shadow: 0 0 0 0 rgba(0, 255, 135, 0); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .main-header {
                left: 0;
                padding: 0 20px;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                padding: 10px 20px;
                justify-content: space-between;
                position: fixed;
                bottom: 0;
                top: auto;
                border-top: 1px solid rgba(0, 255, 135, 0.1);
                border-right: none;
            }
            
            .sidebar-logo {
                display: none;
            }
            
            .sidebar-nav {
                flex-direction: row;
                justify-content: space-around;
                width: 100%;
                margin: 0;
            }
            
            .nav-item {
                margin: 0;
            }
            
            .main-container {
                margin-left: 0;
                margin-top: calc(var(--header-height));
                margin-bottom: 60px;
            }
            
            .main-nav {
                display: none;
            }
        }

        /* Nouveau style minimaliste pour la page d'actualités */
        .minimalist-news-container {
            background-color: #121212;
            font-family: 'Inter', sans-serif;
        }

        .bg-gray-900 {
            background-color: var(--background-color);
        }

        .text-white {
            color: var(--text-color);
        }

        .text-green-400 {
            color: var(--accent-color);
        }

        .text-red-400 {
            color: var(--high-impact);
        }

        .text-yellow-400 {
            color: var(--medium-impact);
        }

        .text-gray-400 {
            color: var(--text-secondary);
        }

        .border-green-400 {
            border-color: var(--accent-color);
        }

        .border-red-500 {
            border-color: var(--high-impact);
        }

        .border-yellow-500 {
            border-color: var(--medium-impact);
        }

        .hover\:border-green-400:hover {
            border-color: var(--accent-color);
        }

        .bg-green-400 {
            background-color: var(--accent-color);
        }

        .bg-green-900 {
            background-color: rgba(0, 255, 135, 0.1);
        }

        .bg-red-900 {
            background-color: rgba(255, 76, 76, 0.1);
        }

        .bg-yellow-900 {
            background-color: rgba(255, 193, 7, 0.1);
        }

        .bg-gray-800 {
            background-color: #1a2e3b;
        }

        .bg-gray-700 {
            background-color: #132537;
        }

        .hover\:underline:hover {
            text-decoration: underline;
        }

        /* Tailwind-like utility classes */
        .p-4 {
            padding: 1rem;
        }

        .md\:p-6 {
            padding: 1.5rem;
        }

        .rounded-lg {
            border-radius: 0.5rem;
        }

        .rounded-xl {
            border-radius: 0.75rem;
        }

        .rounded-full {
            border-radius: 9999px;
        }

        .mb-8 {
            margin-bottom: 2rem;
        }

        .mb-10 {
            margin-bottom: 2.5rem;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-2 {
            margin-bottom: 0.5rem;
        }

        .mb-3 {
            margin-bottom: 0.75rem;
        }

        .mb-1 {
            margin-bottom: 0.25rem;
        }

        .mr-2 {
            margin-right: 0.5rem;
        }

        .mr-3 {
            margin-right: 0.75rem;
        }

        .mt-1 {
            margin-top: 0.25rem;
        }

        .my-1 {
            margin-top: 0.25rem;
            margin-bottom: 0.25rem;
        }

        .mx-auto {
            margin-left: auto;
            margin-right: auto;
        }

        .font-bold {
            font-weight: 700;
        }

        .font-medium {
            font-weight: 500;
        }

        .font-semibold {
            font-weight: 600;
        }

        .text-center {
            text-align: center;
        }

        .text-left {
            text-align: left;
        }

        .text-lg {
            font-size: 1.125rem;
        }

        .text-2xl {
            font-size: 1.5rem;
        }

        .text-sm {
            font-size: 0.875rem;
        }

        .text-xs {
            font-size: 0.75rem;
        }

        .flex {
            display: flex;
        }

        .flex-shrink-0 {
            flex-shrink: 0;
        }

        .flex-grow {
            flex-grow: 1;
        }

        .flex-col {
            flex-direction: column;
        }

        .flex-wrap {
            flex-wrap: wrap;
        }

        .items-center {
            align-items: center;
        }

        .items-start {
            align-items: flex-start;
        }

        .justify-between {
            justify-content: space-between;
        }

        .justify-center {
            justify-content: center;
        }

        .w-full {
            width: 100%;
        }

        .max-w-6xl {
            max-width: 72rem;
        }

        .w-12 {
            width: 3rem;
        }

        .h-12 {
            height: 3rem;
        }

        .h-48 {
            height: 12rem;
        }

        .w-1\.5 {
            width: 0.375rem;
        }

        .h-1\.5 {
            height: 0.375rem;
        }

        .overflow-hidden {
            overflow: hidden;
        }

        .overflow-x-auto {
            overflow-x: auto;
        }

        .relative {
            position: relative;
        }

        .absolute {
            position: absolute;
        }

        .inset-0 {
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
        }

        .bottom-3 {
            bottom: 0.75rem;
        }

        .left-3 {
            left: 0.75rem;
        }

        .right-3 {
            right: 0.75rem;
        }

        .gap-2 {
            gap: 0.5rem;
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .gap-5 {
            gap: 1.25rem;
        }

        .px-3 {
            padding-left: 0.75rem;
            padding-right: 0.75rem;
        }

        .py-2 {
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
        }

        .py-1 {
            padding-top: 0.25rem;
            padding-bottom: 0.25rem;
        }

        .py-1\.5 {
            padding-top: 0.375rem;
            padding-bottom: 0.375rem;
        }

        .px-2 {
            padding-left: 0.5rem;
            padding-right: 0.5rem;
        }

        .py-0\.5 {
            padding-top: 0.125rem;
            padding-bottom: 0.125rem;
        }

        .px-1\.5 {
            padding-left: 0.375rem;
            padding-right: 0.375rem;
        }

        .px-4 {
            padding-left: 1rem;
            padding-right: 1rem;
        }

        .pb-2 {
            padding-bottom: 0.5rem;
        }

        .pb-0 {
            padding-bottom: 0;
        }

        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .grid-cols-3 {
            grid-template-columns: repeat(3, minmax(0, 1fr));
        }

        .grid-cols-2 {
            grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .border {
            border-width: 1px;
        }

        .border-l-2 {
            border-left-width: 2px;
        }

        .border-gray-700 {
            border-color: rgba(255, 255, 255, 0.1);
        }

        .bg-opacity-60 {
            --tw-bg-opacity: 0.6;
        }

        .bg-opacity-50 {
            --tw-bg-opacity: 0.5;
        }

        .bg-opacity-40 {
            --tw-bg-opacity: 0.4;
        }

        .bg-opacity-20 {
            --tw-bg-opacity: 0.2;
        }

        .bg-opacity-10 {
            --tw-bg-opacity: 0.1;
        }

        .border-opacity-30 {
            --tw-border-opacity: 0.3;
        }

        .opacity-60 {
            opacity: 0.6;
        }

        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }

        .duration-300 {
            transition-duration: 300ms;
        }

        .group {
            position: relative;
        }

        /* Media Queries */
        @media (min-width: 768px) {
            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .md\:grid-cols-3 {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }

            .md\:gap-4 {
                gap: 1rem;
            }

            .md\:text-sm {
                font-size: 0.875rem;
            }

            .md\:pb-0 {
                padding-bottom: 0;
            }
        }

        /* Section d'événements à venir spécifique */
        #events-section .event-card {
            flex: 0 0 auto;
        }

        /* Animation de survol pour les boutons */
        .hover\:bg-green-400:hover {
            background-color: rgba(0, 255, 135, 0.2);
        }
    </style>
</head>
<body>
    <!-- Sidebar de navigation verticale -->
    <aside class="sidebar">
        <div class="sidebar-logo">TP</div>
        <nav class="sidebar-nav">
            <a href="actualites.html" class="nav-item active" title="Actualités">
                <i class="fas fa-newspaper"></i>
            </a>
            <a href="portefeuille.html" class="nav-item" title="Portefeuilles">
                <i class="fas fa-chart-pie"></i>
            </a>
            <a href="dashboard.html" class="nav-item" title="Tableau de bord">
                <i class="fas fa-tachometer-alt"></i>
            </a>
            <a href="marches.html" class="nav-item" title="Marchés">
                <i class="fas fa-chart-line"></i>
            </a>
            <a href="alertes.html" class="nav-item" title="Alertes">
                <i class="fas fa-bell"></i>
            </a>
            <a href="parametres.html" class="nav-item" title="Paramètres">
                <i class="fas fa-cog"></i>
            </a>
        </nav>
    </aside>

    <!-- Header principal -->
    <header class="main-header">
        <div class="header-left">
            <div class="logo-container">
                <div class="pulse-dot"></div>
                <a href="index.html">TRADEPULSE</a>
            </div>
            <nav class="main-nav">
                <a href="actualites.html" class="active">Actualités</a>
                <a href="portefeuille.html?type=modere">Portefeuilles</a>
                <a href="dashboard.html">Tableau de bord</a>
            </nav>
        </div>
        <div class="header-right">
            <div class="market-status">
                <div class="market-indicator green"></div>
                <span>Marché ouvert</span>
                <span class="market-time" id="marketTime">09:45:22</span>
            </div>
            <a href="recherche.html" class="search-button ripple">
                <i class="fas fa-search"></i>
                <span>Ma question</span>
            </a>
        </div>
    </header>

    <!-- Container principal -->
    <main class="main-container">
        <!-- Nouvelle interface minimaliste -->
        <div class="bg-gray-900 text-white p-4 md:p-6 rounded-lg">
            <div class="w-full overflow-hidden max-w-6xl mx-auto">
                
                <!-- Header Minimaliste -->
                <div class="mb-8">
                    <h1 class="text-2xl font-bold text-center mb-2">ACTUALITÉS FINANCIÈRES</h1>
                    <p class="text-sm text-gray-400 text-center" id="currentDate">9 MARS 2025</p>
                </div>
                
                <!-- Section Événements (déplacée en haut) -->
                <div class="mb-10 p-4 bg-gray-800 bg-opacity-40 rounded-xl" id="events-section">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-green-400">
                            ÉVÉNEMENTS À VENIR
                        </h2>
                        <div class="flex gap-2">
                            <button class="text-xs text-green-400 px-2 py-1 border border-green-400 border-opacity-30 rounded">
                                Aujourd'hui
                            </button>
                            <button class="text-xs text-gray-400 px-2 py-1 border border-gray-700 rounded">
                                Cette semaine
                            </button>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <!-- Les événements seront injectés ici dynamiquement via le script -->
                    </div>
                </div>
                
                <!-- Filtres Simplifiés -->
                <div class="mb-8">
                    <div class="flex flex-wrap gap-2 md:gap-4 justify-between items-center">
                        <div class="flex gap-2 overflow-x-auto pb-2 md:pb-0" id="filters-container">
                            <button class="text-xs md:text-sm px-3 py-1.5 bg-green-400 bg-opacity-10 text-green-400 border border-green-400 border-opacity-30 rounded-full font-medium" data-category="all">
                                Tous
                            </button>
                            <button class="text-xs md:text-sm px-3 py-1.5 bg-transparent text-gray-400 border border-gray-700 rounded-full font-medium" data-category="marches">
                                Marchés
                            </button>
                            <button class="text-xs md:text-sm px-3 py-1.5 bg-transparent text-gray-400 border border-gray-700 rounded-full font-medium" data-category="economie">
                                Économie
                            </button>
                            <button class="text-xs md:text-sm px-3 py-1.5 bg-transparent text-gray-400 border border-gray-700 rounded-full font-medium" data-category="tech">
                                Tech
                            </button>
                            <button class="text-xs md:text-sm px-3 py-1.5 bg-transparent text-gray-400 border border-gray-700 rounded-full font-medium" data-category="crypto">
                                Crypto
                            </button>
                        </div>
                        
                        <div class="flex gap-2">
                            <select class="text-xs md:text-sm px-3 py-1.5 bg-gray-800 text-gray-300 border border-gray-700 rounded-full sort-selector">
                                <option value="date">Plus récent</option>
                                <option value="date-asc">Plus ancien</option>
                                <option value="impact">Impact (élevé à faible)</option>
                                <option value="impact-asc">Impact (faible à élevé)</option>
                            </select>
                            <select class="text-xs md:text-sm px-3 py-1.5 bg-gray-800 text-gray-300 border border-gray-700 rounded-full impact-selector">
                                <option value="all">Tous impacts</option>
                                <option value="high">Positif</option>
                                <option value="low">Négatif</option>
                                <option value="medium">Neutre</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Articles à la une -->
                <div class="mb-8">
                    <h2 class="text-lg font-semibold mb-4">À LA UNE</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8" id="featured-news">
                        <!-- Les articles à la une seront injectés ici dynamiquement via le script -->
                    </div>
                </div>
                
                <!-- Actualités récentes -->
                <div class="mb-8">
                    <h2 class="text-lg font-semibold mb-4">ACTUALITÉS RÉCENTES</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-5" id="recent-news">
                        <!-- Les actualités récentes seront injectées ici dynamiquement via le script -->
                    </div>
                </div>
                
                <!-- Voir plus d'actualités -->
                <div class="text-center">
                    <button class="px-4 py-2 border border-green-400 border-opacity-30 text-green-400 rounded-lg text-sm hover:bg-green-400 hover:bg-opacity-10 transition-all" id="load-more-news">
                        Voir plus d'actualités
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Modal de mise à jour -->
    <div id="update-overlay">
        <div class="update-modal">
            <h2 class="modal-title">MISE À JOUR DES DONNÉES</h2>
            <p class="modal-message">
                Nous mettons régulièrement à jour nos données pour vous fournir les informations financières les plus précises et actuelles.
            </p>
            
            <div class="last-update-box">
                <i class="fas fa-info-circle"></i>
                <div>
                    Votre dernière mise à jour date du <span class="update-time" id="modalLastUpdateTime">09/03/2023</span>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="modal-btn" id="skipUpdateBtn">Plus tard</button>
                <button class="modal-btn primary" id="proceedUpdateBtn">Mettre à jour</button>
            </div>
        </div>
    </div>

    <!-- Chargement de nos améliorations UI -->
    <script src="ui-enhancements.js"></script>
    <script src="theme-common.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mettre à jour la date du jour
            const now = new Date();
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('fr-FR', options).toUpperCase();
            
            // Update market time
            updateMarketTime();
            setInterval(updateMarketTime, 1000);
            
            // Récupérer les données de l'API Perplexity
            // S'assurer que l'intégration Perplexity est chargée
            const initializeNewsData = () => {
                if (window.perplexityIntegration) {
                    // Récupérer les données d'actualités
                    const newsData = window.perplexityIntegration.getNewsData();
                    if (newsData && newsData.lastUpdated) {
                        populateNewsUI(newsData);
                        updateLastUpdateTime(newsData.lastUpdated);
                    }
                } else {
                    // Réessayer après un délai
                    setTimeout(initializeNewsData, 500);
                }
            };

            // Initialiser avec les données
            initializeNewsData();
            
            // Vérifier s'il existe une date de dernière mise à jour
            const lastUpdateTime = localStorage.getItem('tradepulse_last_update');
            if (lastUpdateTime) {
                const date = new Date(parseInt(lastUpdateTime));
                updateLastUpdateTime(date);
            }
            
            // Vérifier si une mise à jour est nécessaire en fonction du flag stocké dans localStorage
            const needUpdate = localStorage.getItem('tradepulse_need_update');
            if (needUpdate === 'true') {
                showUpdateModal();
                // Nettoyer le flag après avoir affiché le modal
                localStorage.removeItem('tradepulse_need_update');
            }
            
            // Configurer les boutons du modal de mise à jour
            const skipUpdateBtn = document.getElementById('skipUpdateBtn');
            const proceedUpdateBtn = document.getElementById('proceedUpdateBtn');
            
            if (skipUpdateBtn) {
                skipUpdateBtn.addEventListener('click', function() {
                    // Fermer simplement le modal sans mise à jour
                    hideUpdateModal();
                });
            }
            
            if (proceedUpdateBtn) {
                proceedUpdateBtn.addEventListener('click', async function() {
                    hideUpdateModal();
                    
                    try {
                        if (window.perplexityIntegration) {
                            // Mettre à jour les données
                            const result = await window.perplexityIntegration.updateData();
                            
                            // Stocker l'heure actuelle comme dernière mise à jour
                            localStorage.setItem('tradepulse_last_update', Date.now().toString());
                            
                            // Mettre à jour l'interface avec les nouvelles données
                            if (result && result.newsData) {
                                populateNewsUI(result.newsData);
                                updateLastUpdateTime(result.newsData.lastUpdated);
                            }
                        }
                    } catch (error) {
                        console.error('Error updating data:', error);
                    }
                });
            }

            // Gestion des filtres
            const filterButtons = document.querySelectorAll('#filters-container button');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Mettre à jour les styles des boutons
                    filterButtons.forEach(btn => {
                        btn.classList.remove('bg-green-400', 'bg-opacity-10', 'text-green-400', 'border-green-400', 'border-opacity-30');
                        btn.classList.add('bg-transparent', 'text-gray-400', 'border-gray-700');
                    });
                    
                    this.classList.remove('bg-transparent', 'text-gray-400', 'border-gray-700');
                    this.classList.add('bg-green-400', 'bg-opacity-10', 'text-green-400', 'border-green-400', 'border-opacity-30');
                    
                    // Filtrer les actualités
                    filterNews(this.dataset.category);
                });
            });

            // Gestion du sélecteur de tri
            const sortSelector = document.querySelector('.sort-selector');
            if (sortSelector) {
                sortSelector.addEventListener('change', function() {
                    sortNews(this.value);
                });
            }

            // Gestion du sélecteur d'impact
            const impactSelector = document.querySelector('.impact-selector');
            if (impactSelector) {
                impactSelector.addEventListener('change', function() {
                    filterNewsByImpact(this.value);
                });
            }

            // Bouton "Voir plus d'actualités"
            const loadMoreBtn = document.getElementById('load-more-news');
            if (loadMoreBtn) {
                loadMoreBtn.addEventListener('click', function() {
                    loadMoreNews();
                });
            }
            
            // Fonctions auxiliaires
            function updateLastUpdateTime(timestamp) {
                const date = new Date(timestamp);
                document.querySelectorAll('.update-time').forEach(el => {
                    el.textContent = formatDateTime(date);
                });
            }
            
            function formatDateTime(date) {
                const dateStr = date.toLocaleDateString('fr-FR');
                const timeStr = date.toLocaleTimeString('fr-FR', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                return `${dateStr} ${timeStr}`;
            }
            
            function updateMarketTime() {
                const marketTimeElement = document.getElementById('marketTime');
                if (marketTimeElement) {
                    const now = new Date();
                    const hours = now.getHours().toString().padStart(2, '0');
                    const minutes = now.getMinutes().toString().padStart(2, '0');
                    const seconds = now.getSeconds().toString().padStart(2, '0');
                    marketTimeElement.textContent = `${hours}:${minutes}:${seconds}`;
                }
            }
            
            function showUpdateModal() {
                const overlay = document.getElementById('update-overlay');
                if (overlay) {
                    overlay.style.display = 'flex';
                }
            }
            
            function hideUpdateModal() {
                const overlay = document.getElementById('update-overlay');
                if (overlay) {
                    overlay.style.display = 'none';
                }
            }

            function getImpactClass(impact) {
                switch(impact) {
                    case 'high':
                        return 'border-l-2 border-red-500';
                    case 'medium':
                        return 'border-l-2 border-yellow-500';
                    case 'low':
                    default:
                        return 'border-l-2 border-green-400';
                }
            }

            function getImpactLabel(impact) {
                switch(impact) {
                    case 'high':
                        return '<span class="text-xs px-1.5 py-0.5 bg-red-900 bg-opacity-20 text-red-400 rounded">Impact négatif</span>';
                    case 'medium':
                        return '<span class="text-xs px-1.5 py-0.5 bg-yellow-900 bg-opacity-20 text-yellow-400 rounded">Impact neutre</span>';
                    case 'low':
                    default:
                        return '<span class="text-xs px-1.5 py-0.5 bg-green-900 bg-opacity-20 text-green-400 rounded">Impact positif</span>';
                }
            }

            let currentVisibleNews = 6; // Pour le bouton "Voir plus"

            function populateNewsUI(newsData) {
                if (!newsData) return;

                // Fusion des actualités US et françaises
                const allNews = [...(newsData.us || []), ...(newsData.france || [])];
                
                // Tri par date (du plus récent au plus ancien)
                const sortedNews = allNews.sort((a, b) => {
                    const dateA = new Date(`${a.date} ${a.time}`);
                    const dateB = new Date(`${b.date} ${b.time}`);
                    return dateB - dateA;
                });

                // Populer les événements à venir
                populateEvents(sortedNews.slice(0, 3));
                
                // Populer les articles à la une (2 premiers)
                populateFeaturedNews(sortedNews.slice(0, 2));
                
                // Populer les actualités récentes (suivantes)
                populateRecentNews(sortedNews.slice(2, 5));
            }

            function populateEvents(events) {
                const eventsContainer = document.querySelector('#events-section .grid');
                if (!eventsContainer) return;

                const months = [
                    'JAN', 'FÉV', 'MAR', 'AVR', 'MAI', 'JUIN', 
                    'JUIL', 'AOÛ', 'SEP', 'OCT', 'NOV', 'DÉC'
                ];

                let eventsHTML = '';
                events.forEach((event, index) => {
                    const date = new Date(event.date);
                    const day = date.getDate();
                    const month = months[date.getMonth()];

                    const impactClass = index === 0 ? 'border-red-500' : (index === 1 ? 'border-red-500' : 'border-yellow-500');
                    const importanceClass = index === 0 || index === 1 ? 'bg-red-900 text-red-400' : 'bg-yellow-900 text-yellow-400';
                    const importanceText = index === 0 || index === 1 ? 'Important' : 'Moyen';

                    eventsHTML += `
                    <div class="bg-gray-800 bg-opacity-60 p-3 rounded-lg border-l-2 ${impactClass} flex items-start">
                        <div class="flex-shrink-0 w-12 h-12 bg-gray-900 rounded-lg flex flex-col items-center justify-center mr-3">
                            <span class="text-sm font-bold">${day}</span>
                            <span class="text-xs text-gray-400">${month}</span>
                        </div>
                        <div class="flex-grow">
                            <div class="flex items-center">
                                <span class="text-xs px-1.5 py-0.5 ${importanceClass} bg-opacity-20 rounded mr-2">
                                    ${importanceText}
                                </span>
                                <span class="text-xs text-green-400">${event.time}</span>
                            </div>
                            <h3 class="text-sm font-medium my-1">${event.title}</h3>
                            <p class="text-xs text-gray-400">${event.source}</p>
                        </div>
                    </div>
                    `;
                });

                eventsContainer.innerHTML = eventsHTML;
            }

            function populateFeaturedNews(featuredNews) {
                const featuredContainer = document.getElementById('featured-news');
                if (!featuredContainer) return;

                let featuredHTML = '';
                featuredNews.forEach((news, index) => {
                    const impact = index === 0 ? 'high' : 'low';
                    const impactText = index === 0 ? 'Impact négatif' : 'Impact positif';
                    const impactBorder = index === 0 ? 'border-l-2 border-red-400' : 'border-l-2 border-green-400';
                    const impactTextClass = index === 0 ? 'text-red-400' : 'text-green-400';
                    const categoryBadge = index === 0 ? 'Économie' : 'Entreprises';

                    featuredHTML += `
                    <div class="bg-gray-800 bg-opacity-50 rounded-xl overflow-hidden border border-gray-700 group hover:border-green-400 hover:border-opacity-30 transition-all duration-300">
                        <div class="relative h-48 bg-gray-700">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 to-transparent opacity-60"></div>
                            <div class="absolute bottom-3 left-3 right-3">
                                <div class="flex justify-between items-center mb-1">
                                    <span class="text-xs px-2 py-0.5 bg-green-400 bg-opacity-20 text-green-400 rounded-full">
                                        ${categoryBadge}
                                    </span>
                                    <span class="text-xs text-white flex items-center">
                                        <span class="w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"></span>
                                        ${news.time}
                                    </span>
                                </div>
                                <h3 class="text-lg font-semibold text-white">${news.title}</h3>
                            </div>
                        </div>
                        
                        <div class="p-4">
                            <div class="mb-3 text-xs text-gray-400 flex justify-between">
                                <span>${news.source}</span>
                                <span>${news.date}</span>
                            </div>
                            
                            <p class="text-sm text-gray-300 mb-4">
                                ${news.content}
                            </p>
                            
                            <div class="px-3 py-2 bg-gray-900 bg-opacity-50 rounded ${impactBorder} mb-3">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-xs font-medium">Analyse</span>
                                    <span class="text-xs ${impactTextClass}">${impactText}</span>
                                </div>
                                <p class="text-xs text-gray-400">
                                    ${index === 0 ? 
                                    'Cette annonce surprise laisse présager une possible hausse des taux plus tôt que prévu.' :
                                    'Ces résultats confirment la résilience du secteur face aux incertitudes économiques.'}
                                </p>
                            </div>
                            
                            <a href="#" class="text-xs text-green-400 hover:underline">
                                Consulter la source →
                            </a>
                        </div>
                    </div>
                    `;
                });

                featuredContainer.innerHTML = featuredHTML;
            }

            function populateRecentNews(recentNews) {
                const recentContainer = document.getElementById('recent-news');
                if (!recentContainer) return;

                let recentHTML = '';
                recentNews.forEach((news, index) => {
                    const categoryBadge = index === 0 ? 'Marchés' : (index === 1 ? 'Tech' : 'Crypto');
                    const impact = index === 0 ? 'medium' : (index === 1 ? 'low' : 'low');
                    const impactText = impact === 'medium' ? 'Impact neutre' : 'Impact positif';
                    const impactClass = impact === 'medium' ? '' : 'bg-green-900 bg-opacity-20 text-green-400';

                    recentHTML += `
                    <div class="bg-gray-800 bg-opacity-40 rounded-lg border border-gray-700 p-4 hover:border-green-400 hover:border-opacity-30 transition-all duration-300">
                        <div class="flex justify-between items-center mb-3">
                            <span class="text-xs px-2 py-0.5 bg-green-400 bg-opacity-20 text-green-400 rounded-full">
                                ${categoryBadge}
                            </span>
                            <span class="text-xs text-gray-400 flex items-center">
                                <span class="w-1.5 h-1.5 bg-green-400 rounded-full mr-1.5"></span>
                                ${news.time}
                            </span>
                        </div>
                        
                        <h3 class="text-base font-medium mb-2">${news.title}</h3>
                        
                        <p class="text-sm text-gray-400 mb-3">
                            ${news.content.substring(0, 100)}...
                        </p>
                        
                        <div class="flex justify-between items-center text-xs">
                            <span class="text-gray-500">${news.source}</span>
                            <span class="text-gray-400 flex items-center gap-1">
                                <span class="px-1.5 py-0.5 ${impactClass} rounded">${impactText}</span>
                            </span>
                        </div>
                    </div>
                    `;
                });

                recentContainer.innerHTML = recentHTML;
            }

            function filterNews(category) {
                // Simuler un filtrage par catégorie
                console.log('Filtrage par catégorie:', category);
                
                // Si filtrage réel via API
                if (window.perplexityIntegration) {
                    const newsData = window.perplexityIntegration.getNewsData();
                    if (newsData) {
                        // Filtrage à implémenter selon la structure de vos données
                    }
                }
            }

            function sortNews(sortBy) {
                // Simuler un tri des actualités
                console.log('Tri par:', sortBy);
                
                // Implémentation réelle à adapter selon vos données
            }

            function filterNewsByImpact(impact) {
                // Simuler un filtrage par impact
                console.log('Filtrage par impact:', impact);
                
                // Implémentation réelle à adapter selon vos données
            }

            function loadMoreNews() {
                // Simuler le chargement de plus d'actualités
                console.log('Chargement de plus d\'actualités...');
                
                // Implémentation réelle à adapter selon vos données
                // Exemple: currentVisibleNews += 3; + repopuler
            }
        });
    </script>
</body>
</html>