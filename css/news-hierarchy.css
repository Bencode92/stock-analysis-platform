/* Styles pour la hiérarchie des actualités financières - Version Tailwind optimisée */

/* 1. Styles de base harmonisés avec approche Tailwind native */
.news-card {
    @apply relative flex flex-col rounded-xl p-6 border 
           bg-zinc-900 transition hover:shadow-lg 
           w-full max-w-[360px] min-h-[240px] cursor-pointer;
}

.news-card .title {
    @apply text-lg font-bold line-clamp-2 text-white mb-3;
}

.news-card .desc {
    @apply text-sm text-zinc-300 line-clamp-4 flex-grow mb-4;
}

.news-card .footer {
    @apply mt-auto flex justify-between items-center text-xs;
}

/* 2. Grid containers optimisés avec auto-fill */
#critical-news-container,
#important-news-container {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
}

#recent-news .news-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
}

/* 3. Support line-clamp pour navigateurs sans plugin Tailwind */
.line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.line-clamp-4 {
    display: -webkit-box;
    -webkit-line-clamp: 4;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

/* 4. Hover effects améliorés */
.news-card:hover {
    @apply transform -translate-y-1;
}

.border-red-600:hover {
    @apply shadow-red-500/20;
    box-shadow: 0 8px 25px theme('colors.red.500' / 20%);
}

.border-emerald-600:hover {
    @apply shadow-emerald-500/20;
    box-shadow: 0 8px 25px theme('colors.emerald.500' / 20%);
}

.border-yellow-600:hover {
    @apply shadow-yellow-500/20;
    box-shadow: 0 8px 25px theme('colors.yellow.500' / 20%);
}

/* 5. Badge urgent pour actualités critiques */
.badge.urgent {
    @apply absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 
           rounded font-bold tracking-wide z-10 animate-pulse;
    animation: pulse-badge 2s infinite;
}

@keyframes pulse-badge {
    0% { opacity: 1; }
    50% { opacity: 0.7; }
    100% { opacity: 1; }
}

/* 6. Badges d'impact harmonisés */
.badge {
    @apply inline-block px-2 py-1 rounded text-xs font-semibold uppercase tracking-wide;
}

.badge-negative {
    @apply bg-red-800/20 text-red-200 border border-red-600;
}

.badge-positive {
    @apply bg-emerald-800/20 text-emerald-200 border border-emerald-600;
}

.badge-neutral {
    @apply bg-yellow-800/20 text-yellow-200 border border-yellow-600;
}

/* 7. Chips pour catégories */
.chip {
    @apply bg-zinc-800 text-zinc-300 px-2 py-1 rounded text-xs font-medium;
}

/* 8. Styles pour les temps */
.time {
    @apply text-zinc-500 text-xs ml-auto;
}

/* 9. Actualités critiques - emphase supplémentaire */
#critical-news-container .news-card {
    @apply border-2;
    animation: pulse-border 3s infinite;
}

#critical-news-container .news-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full bg-gradient-to-b from-red-400 to-red-600;
    box-shadow: 0 0 8px theme('colors.red.500' / 60%);
}

@keyframes pulse-border {
    0% { border-opacity: 0.8; }
    50% { border-opacity: 0.4; }
    100% { border-opacity: 0.8; }
}

/* 10. Actualités importantes */
#important-news-container .news-card::before {
    content: '';
    @apply absolute top-0 left-0 w-0.5 h-full bg-gradient-to-b from-yellow-400 to-yellow-600;
    box-shadow: 0 0 6px theme('colors.yellow.500' / 40%);
}

/* 11. Animation d'apparition progressive */
.animate-fadeIn {
    animation: fadeIn 0.5s ease-out forwards;
}

@keyframes fadeIn {
    from { 
        opacity: 0; 
        transform: translateY(10px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

/* 12. Délais d'animation pour effet en cascade */
.news-card:nth-child(1) { animation-delay: 0.1s; }
.news-card:nth-child(2) { animation-delay: 0.2s; }
.news-card:nth-child(3) { animation-delay: 0.3s; }
.news-card:nth-child(4) { animation-delay: 0.4s; }
.news-card:nth-child(5) { animation-delay: 0.5s; }
.news-card:nth-child(6) { animation-delay: 0.6s; }

/* 13. Indicateur cliquable */
.clickable-news::after {
    content: '';
    @apply absolute top-0 right-0 w-0 h-0 opacity-0 transition-opacity duration-300;
    border-style: solid;
    border-width: 0 20px 20px 0;
    border-color: transparent theme('colors.emerald.600') transparent transparent;
}

.clickable-news:hover::after {
    @apply opacity-70;
}

/* 14. États de chargement et d'erreur */
.loading-state {
    @apply flex items-center justify-center p-8 text-zinc-400;
}

.error-message {
    @apply bg-zinc-800/80 rounded-lg p-6 text-center border border-zinc-700;
}

.retry-button {
    @apply bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 
           rounded transition font-medium transform hover:-translate-y-0.5;
}

/* 15. Message "aucun résultat" */
.no-data-message {
    @apply col-span-full flex flex-col items-center justify-center 
           py-12 text-zinc-500 text-center;
}

/* 16. Responsive amélioré */
@media (max-width: 768px) {
    #critical-news-container,
    #important-news-container,
    #recent-news .news-grid {
        grid-template-columns: 1fr;
        @apply gap-4;
    }
    
    .news-card {
        @apply max-w-none min-h-[200px] p-4;
    }
    
    .news-card .title {
        @apply text-base;
    }
    
    .news-card .desc {
        @apply text-xs;
    }
    
    .badge.urgent {
        @apply top-1 right-1 px-1.5 py-0.5 text-[10px];
    }
}

@media (max-width: 640px) {
    #critical-news-container,
    #important-news-container,
    #recent-news .news-grid {
        grid-template-columns: 1fr;
        @apply gap-3;
    }
}

/* 17. Support pour thèmes dark/light */
.dark .news-card {
    @apply bg-zinc-900 border-zinc-700;
}

.light .news-card {
    @apply bg-white border-zinc-200 text-zinc-900;
}

.light .news-card .title {
    @apply text-zinc-900;
}

.light .news-card .desc {
    @apply text-zinc-600;
}

.light .chip {
    @apply bg-zinc-100 text-zinc-700;
}

.light .time {
    @apply text-zinc-400;
}

/* 18. Accessibilité améliorée */
.news-card:focus {
    @apply outline-none ring-2 ring-emerald-500 ring-offset-2 ring-offset-zinc-900;
}

.light .news-card:focus {
    @apply ring-offset-white;
}

/* 19. Filtres actifs (rétrocompatibilité) */
.filter-active {
    @apply bg-emerald-500/20 border-emerald-500/60 text-emerald-400 
           transform -translate-y-0.5;
    box-shadow: 0 0 10px theme('colors.emerald.500' / 30%);
}

/* 20. Icônes de sentiment */
.sentiment-icon {
    @apply text-base flex items-center justify-center;
}

/* 21. Support rétrocompatibilité glassmorphism */
.glassmorphism {
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}