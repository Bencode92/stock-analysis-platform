{
  "Agressif": {
    "Commentaire": "Ce portefeuille mod√®le Agressif pr√©sente une allocation orient√©e croissance avec une volatilit√© cible √©lev√©e. La diversification sectorielle et g√©ographique vise √† capturer le potentiel de hausse des march√©s actions. Toutefois, ce profil comporte un risque de perte en capital significatif en cas de correction des march√©s. La volatilit√© historique peut entra√Æner des variations importantes de la valeur du portefeuille √† court terme. Ce portefeuille compte 30 lignes avec une volatilit√© estim√©e de 7.5%. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
    "Actions": {
      "STEEL DYNAMICS INC": "3%",
      "FREEPORT MCMORAN INC": "3%",
      "ELI LILLY": "3%",
      "RYANAIR HOLDINGS PLC": "2%",
      "AIB GROUP PLC": "3%",
      "BAYER AG": "3%"
    },
    "ETF": {
      "VSLU": "6%",
      "Applied Finance Valuation Large Cap ETF": "3%",
      "LLY": "9%",
      "JPHY": "1%",
      "STLD": "2%",
      "Fidelity MSCI Financials Index ETF": "3%",
      "SLV": "2%",
      "FNCL": "9%",
      "RYA": "2%",
      "FCX": "4%",
      "abrdn Physical Silver Shares ETF": "2%",
      "LEMB": "2%",
      "A5G": "9%",
      "iShares Silver Trust": "3%",
      "SIVR": "1%",
      "BAYN": "9%",
      "ICVT": "2%",
      "EMLC": "3%"
    },
    "Obligations": {
      "JPMorgan Active High Yield ETF": "1%",
      "iShares J.P. Morgan EM Local Currency Bond ETF": "1%",
      "iShares 3 Year International Treasury Bond ETF": "1%",
      "VanEck J.P. Morgan EM Local Currency Bond ETF": "2%"
    },
    "Crypto": {
      "STETH/USD": "1%",
      "BCH/USD": "5%"
    },
    "_tickers": {
      "VSLU": 0.1205,
      "STETH/USD": 0.0134,
      "LLY": 0.1145,
      "JPHY": 0.0137,
      "BCH/USD": 0.0497,
      "STLD": 0.0429,
      "LEMB": 0.0203,
      "FNCL": 0.1252,
      "ISHG": 0.0053,
      "SLV": 0.0536,
      "RYA": 0.0402,
      "FCX": 0.0668,
      "SIVR": 0.0268,
      "EMLC": 0.0507,
      "A5G": 0.1145,
      "BAYN": 0.1145,
      "ICVT": 0.0239
    },
    "_optimization": {
      "mode": "fallback_slsqp_failed",
      "is_heuristic": true,
      "vol_realized": 7.5,
      "vol_target": 18.0,
      "disclaimer": "Ce portefeuille utilise une allocation heuristique (r√®gles pr√©d√©finies) et non une optimisation math√©matique Markowitz. Les contraintes du profil (Agressif) sont incompatibles avec l'optimisation classique. Cette approche privil√©gie la robustesse √† l'optimalit√© th√©orique."
    },
    "_constraint_report": {
      "profile_name": "Agressif",
      "constraints": [
        {
          "name": "volatility",
          "constraint_type": "target",
          "cap": 18.0,
          "observed": 7.5,
          "slack": -7.5,
          "binding": false,
          "status": "CRITICAL",
          "details": {
            "tolerance": 3.0,
            "range_min": 15.0,
            "range_max": 21.0,
            "diff_from_target": -10.5
          }
        },
        {
          "name": "bonds_min",
          "constraint_type": "min",
          "cap": 5.0,
          "observed": 3.46,
          "slack": -1.54,
          "binding": false,
          "status": "VIOLATED",
          "details": {
            "count": 4,
            "breakdown": [
              {
                "id": "JPMorgan Active High Yield ETF",
                "name": "JPMorgan Active High Yield ETF",
                "weight": 0.81
              },
              {
                "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                "name": "iShares J.P. Morgan EM Local C",
                "weight": 0.53
              },
              {
                "id": "iShares 3 Year International Treasury Bond ETF",
                "name": "iShares 3 Year International T",
                "weight": 0.53
              },
              {
                "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
                "name": "VanEck J.P. Morgan EM Local Cu",
                "weight": 1.59
              }
            ]
          }
        },
        {
          "name": "crypto_max",
          "constraint_type": "max",
          "cap": 10.0,
          "observed": 6.31,
          "slack": 3.69,
          "binding": false,
          "status": "OK",
          "details": {
            "breakdown": [
              {
                "id": "STETH/USD",
                "name": "STETH/USD",
                "weight": 1.34
              },
              {
                "id": "BCH/USD",
                "name": "BCH/USD",
                "weight": 4.97
              }
            ]
          }
        },
        {
          "name": "max_single_position",
          "constraint_type": "max",
          "cap": 15.0,
          "observed": 9.34,
          "slack": 5.66,
          "binding": false,
          "status": "OK",
          "details": {
            "largest_position": {
              "id": "FNCL",
              "name": "FNCL",
              "weight": 9.34
            },
            "positions_above_10pct": []
          }
        },
        {
          "name": "max_sector",
          "constraint_type": "max",
          "cap": 35.0,
          "observed": 6.08,
          "slack": 28.92,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Diversified",
            "counts_in_max_sector": {
              "Diversified": 6.08,
              "Mat√©riaux": 5.1,
              "Sant√©": 5.1,
              "Finance": 2.55,
              "Industries": 2.39
            },
            "all_sectors": {
              "Diversified": 10.85,
              "Crypto": 6.31,
              "Mat√©riaux": 5.1,
              "Sant√©": 5.1,
              "Bonds": 3.46,
              "Finance": 2.55,
              "Industries": 2.39
            },
            "scope": "EQUITY_LIKE only (excludes Bonds)"
          }
        },
        {
          "name": "max_region",
          "constraint_type": "max",
          "cap": 50.0,
          "observed": 7.65,
          "slack": 42.35,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Etats-Unis",
            "counts_in_max_region": {
              "Etats-Unis": 7.65,
              "Global": 6.08,
              "Irlande": 4.94,
              "Allemagne": 2.55
            },
            "all_regions": {
              "Global": 20.62,
              "Etats-Unis": 7.65,
              "Irlande": 4.94,
              "Allemagne": 2.55
            },
            "scope": "EQUITY_LIKE + LEVERAGED only"
          }
        },
        {
          "name": "min_assets",
          "constraint_type": "min",
          "cap": 10,
          "observed": 30,
          "slack": 20,
          "binding": false,
          "status": "OK",
          "details": {}
        },
        {
          "name": "max_assets",
          "constraint_type": "max",
          "cap": 18,
          "observed": 30,
          "slack": -12,
          "binding": false,
          "status": "CRITICAL",
          "details": {}
        },
        {
          "name": "bucket_core",
          "constraint_type": "range",
          "cap": 45.0,
          "observed": 12.19,
          "slack": -17.81,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 30.0,
            "range_max": 45.0,
            "slack_from_min": -17.81,
            "slack_from_max": 32.81,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_satellite",
          "constraint_type": "range",
          "cap": 60.0,
          "observed": 15.14,
          "slack": -19.86,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 35.0,
            "range_max": 60.0,
            "slack_from_min": -19.86,
            "slack_from_max": 44.86,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_defensive",
          "constraint_type": "range",
          "cap": 15.0,
          "observed": 3.46,
          "slack": -1.54,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 5.0,
            "range_max": 15.0,
            "slack_from_min": -1.54,
            "slack_from_max": 11.54,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_lottery",
          "constraint_type": "range",
          "cap": 5.0,
          "observed": 4.97,
          "slack": 0.03,
          "binding": true,
          "status": "BINDING",
          "details": {
            "range_min": 0.0,
            "range_max": 5.0,
            "slack_from_min": 4.97,
            "slack_from_max": 0.03,
            "outside_range": false,
            "is_indicator": true
          }
        },
        {
          "name": "leveraged_cap",
          "constraint_type": "max",
          "cap": 5.0,
          "observed": 0,
          "slack": 5.0,
          "binding": false,
          "status": "OK",
          "details": {}
        },
        {
          "name": "alternative_cap",
          "constraint_type": "max",
          "cap": 20.0,
          "observed": 0,
          "slack": 20.0,
          "binding": false,
          "status": "OK",
          "details": {
            "includes": [
              "Derivative Income",
              "Defined Outcome",
              "Allocation funds"
            ]
          }
        }
      ],
      "summary": {
        "total": 14,
        "ok": 11,
        "binding": 0,
        "violated": 1,
        "critical": 2
      },
      "quality_score": 75.7,
      "recommendations": [
        "üî¥ CRITICAL: volatility violated by 7.5% ‚Äî immediate action required",
        "üü† VIOLATED: bonds_min exceeded by 1.5% ‚Äî reduce exposure",
        "üî¥ CRITICAL: max_assets violated by 12.0% ‚Äî immediate action required",
        "‚ÑπÔ∏è INFO: bucket_core is 17.8% outside target range (indicator only)",
        "‚ÑπÔ∏è INFO: bucket_satellite is 19.9% outside target range (indicator only)"
      ],
      "exposures": {
        "by_category": {
          "Unknown": 63.89,
          "ETF": 10.85,
          "Crypto": 6.31,
          "Actions": 15.14,
          "Obligations": 3.46
        },
        "by_sector": {
          "Unknown": 63.89,
          "Diversified": 10.85,
          "Mat√©riaux": 5.1,
          "Sant√©": 5.1,
          "Finance": 2.55,
          "Industries": 2.39
        },
        "by_region": {
          "Unknown": 63.89,
          "Global": 20.62,
          "Etats-Unis": 7.65,
          "Irlande": 4.94,
          "Allemagne": 2.55
        },
        "by_risk_bucket": {
          "unknown": 63.89,
          "equity_like": 21.22,
          "crypto": 6.31,
          "bond_like": 3.46,
          "real_assets": 4.77
        },
        "by_role": {
          "core": 12.19,
          "satellite": 15.14,
          "defensive": 3.46,
          "lottery": 4.97,
          "unknown": 63.89
        },
        "concentration": {
          "hhi": 557.0,
          "hhi_interpretation": "well_diversified",
          "effective_n": 17.94,
          "n_positions": 30,
          "top_5_weight": 45.19,
          "top_10_weight": 64.13,
          "largest_position": 9.34,
          "smallest_position": 0.53,
          "thresholds": {
            "well_diversified": "HHI < 1000",
            "diversified": "HHI 1000-1500",
            "moderately_concentrated": "HHI 1500-2500",
            "highly_concentrated": "HHI > 2500"
          },
          "source": "exposures.py"
        }
      },
      "ticker_mapping": [
        {
          "id": "FNCL",
          "ticker": "FNCL",
          "isin": null,
          "name": "Unknown (FNCL)",
          "weight_pct": 9.34,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "VSLU",
          "ticker": "VSLU",
          "isin": null,
          "name": "Unknown (VSLU)",
          "weight_pct": 9.15,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "LLY",
          "ticker": "LLY",
          "isin": null,
          "name": "Unknown (LLY)",
          "weight_pct": 8.9,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "A5G",
          "ticker": "A5G",
          "isin": null,
          "name": "Unknown (A5G)",
          "weight_pct": 8.9,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "BAYN",
          "ticker": "BAYN",
          "isin": null,
          "name": "Unknown (BAYN)",
          "weight_pct": 8.9,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "BCH/USD",
          "ticker": "BCH/USD",
          "isin": null,
          "name": "BCH/USD",
          "weight_pct": 4.97,
          "category": "Crypto",
          "risk_bucket": "crypto",
          "sector": "Crypto",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "FCX",
          "ticker": "FCX",
          "isin": null,
          "name": "Unknown (FCX)",
          "weight_pct": 4.13,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "EMLC",
          "ticker": "EMLC",
          "isin": null,
          "name": "Unknown (EMLC)",
          "weight_pct": 3.48,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "Fidelity MSCI Financials Index ETF",
          "ticker": "FNCL",
          "isin": NaN,
          "name": "Fidelity MSCI Financials Index ETF",
          "weight_pct": 3.18,
          "category": "ETF",
          "risk_bucket": "equity_like",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "iShares Silver Trust",
          "ticker": "SLV",
          "isin": NaN,
          "name": "iShares Silver Trust",
          "weight_pct": 3.18,
          "category": "ETF",
          "risk_bucket": "real_assets",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "Applied Finance Valuation Large Cap ETF",
          "ticker": "VSLU",
          "isin": NaN,
          "name": "Applied Finance Valuation Large Cap ETF",
          "weight_pct": 2.9,
          "category": "ETF",
          "risk_bucket": "equity_like",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "EQ_369",
          "ticker": "STLD",
          "isin": null,
          "name": "STEEL DYNAMICS INC",
          "weight_pct": 2.55,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Mat√©riaux",
          "region": "Etats-Unis",
          "exchange": null
        },
        {
          "id": "EQ_181",
          "ticker": "FCX",
          "isin": null,
          "name": "FREEPORT MCMORAN INC",
          "weight_pct": 2.55,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Mat√©riaux",
          "region": "Etats-Unis",
          "exchange": null
        },
        {
          "id": "EQ_10",
          "ticker": "LLY",
          "isin": null,
          "name": "ELI LILLY",
          "weight_pct": 2.55,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Sant√©",
          "region": "Etats-Unis",
          "exchange": null
        },
        {
          "id": "EQ_641",
          "ticker": "A5G",
          "isin": null,
          "name": "AIB GROUP PLC",
          "weight_pct": 2.55,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Irlande",
          "exchange": null
        },
        {
          "id": "EQ_608",
          "ticker": "BAYN",
          "isin": null,
          "name": "BAYER AG",
          "weight_pct": 2.55,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Sant√©",
          "region": "Allemagne",
          "exchange": null
        },
        {
          "id": "EQ_623",
          "ticker": "RYA",
          "isin": null,
          "name": "RYANAIR HOLDINGS PLC",
          "weight_pct": 2.39,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Industries",
          "region": "Irlande",
          "exchange": null
        },
        {
          "id": "ICVT",
          "ticker": "ICVT",
          "isin": null,
          "name": "Unknown (ICVT)",
          "weight_pct": 2.39,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "SLV",
          "ticker": "SLV",
          "isin": null,
          "name": "Unknown (SLV)",
          "weight_pct": 2.18,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "STLD",
          "ticker": "STLD",
          "isin": null,
          "name": "Unknown (STLD)",
          "weight_pct": 1.74,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "RYA",
          "ticker": "RYA",
          "isin": null,
          "name": "Unknown (RYA)",
          "weight_pct": 1.63,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "abrdn Physical Silver Shares ETF",
          "ticker": "SIVR",
          "isin": NaN,
          "name": "abrdn Physical Silver Shares ETF",
          "weight_pct": 1.59,
          "category": "ETF",
          "risk_bucket": "real_assets",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "EMLC",
          "isin": NaN,
          "name": "VanEck J.P. Morgan EM Local Currency Bond ETF",
          "weight_pct": 1.59,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "LEMB",
          "ticker": "LEMB",
          "isin": null,
          "name": "Unknown (LEMB)",
          "weight_pct": 1.5,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "STETH/USD",
          "ticker": "STETH/USD",
          "isin": null,
          "name": "STETH/USD",
          "weight_pct": 1.34,
          "category": "Crypto",
          "risk_bucket": "crypto",
          "sector": "Crypto",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "SIVR",
          "ticker": "SIVR",
          "isin": null,
          "name": "Unknown (SIVR)",
          "weight_pct": 1.09,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "JPMorgan Active High Yield ETF",
          "ticker": "JPHY",
          "isin": NaN,
          "name": "JPMorgan Active High Yield ETF",
          "weight_pct": 0.81,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "JPHY",
          "ticker": "JPHY",
          "isin": null,
          "name": "Unknown (JPHY)",
          "weight_pct": 0.56,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "isin": NaN,
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "weight_pct": 0.53,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "iShares 3 Year International Treasury Bond ETF",
          "ticker": "ISHG",
          "isin": NaN,
          "name": "iShares 3 Year International Treasury Bond ETF",
          "weight_pct": 0.53,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        }
      ],
      "execution_summary": {
        "n_positions": 30,
        "n_exchanges": 0,
        "exchanges": [],
        "total_weight": 99.65,
        "missing_isin": 22,
        "missing_ticker": 0,
        "data_quality": {
          "isin_coverage": 26.7,
          "ticker_coverage": 100.0
        },
        "ready_for_execution": true
      }
    },
    "_exposures": {
      "by_category": {
        "Unknown": 63.89,
        "ETF": 10.85,
        "Crypto": 6.31,
        "Actions": 15.14,
        "Obligations": 3.46
      },
      "by_sector": {
        "Unknown": 63.89,
        "Diversified": 10.85,
        "Mat√©riaux": 5.1,
        "Sant√©": 5.1,
        "Finance": 2.55,
        "Industries": 2.39
      },
      "by_region": {
        "Unknown": 63.89,
        "Global": 20.62,
        "Etats-Unis": 7.65,
        "Irlande": 4.94,
        "Allemagne": 2.55
      },
      "by_risk_bucket": {
        "unknown": 63.89,
        "equity_like": 21.22,
        "crypto": 6.31,
        "bond_like": 3.46,
        "real_assets": 4.77
      },
      "by_role": {
        "core": 12.19,
        "satellite": 15.14,
        "defensive": 3.46,
        "lottery": 4.97,
        "unknown": 63.89
      },
      "concentration": {
        "hhi": 557.0,
        "hhi_interpretation": "well_diversified",
        "effective_n": 17.94,
        "n_positions": 30,
        "top_5_weight": 45.19,
        "top_10_weight": 64.13,
        "largest_position": 9.34,
        "smallest_position": 0.53,
        "thresholds": {
          "well_diversified": "HHI < 1000",
          "diversified": "HHI 1000-1500",
          "moderately_concentrated": "HHI 1500-2500",
          "highly_concentrated": "HHI > 2500"
        },
        "source": "exposures.py"
      }
    },
    "_execution_summary": {
      "n_positions": 30,
      "n_exchanges": 0,
      "exchanges": [],
      "total_weight": 99.65,
      "missing_isin": 22,
      "missing_ticker": 0,
      "data_quality": {
        "isin_coverage": 26.7,
        "ticker_coverage": 100.0
      },
      "ready_for_execution": true
    },
    "_limitations": [
      "Allocation heuristique (fallback_slsqp_failed): les contraintes du profil Agressif sont incompatibles avec l'optimisation Markowitz classique.",
      "Volatilit√© r√©alis√©e (7.5%) √©loign√©e de la cible (18.0%) - √©cart de 10.5%."
    ]
  },
  "Mod√©r√©": {
    "Commentaire": "Ce portefeuille mod√®le Mod√©r√© combine des actifs de croissance et des instruments √† revenu fixe pour un √©quilibre rendement/risque. L'allocation vise une volatilit√© interm√©diaire tout en maintenant un potentiel de performance. Le risque de perte en capital existe, notamment en p√©riode de stress de march√©. La corr√©lation entre classes d'actifs peut augmenter en p√©riode de crise, r√©duisant les b√©n√©fices de la diversification. Ce portefeuille compte 30 lignes avec une volatilit√© estim√©e de 4.32%. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
    "Actions": {
      "ALLIANZ": "1%",
      "KBC GROEP": "2%",
      "ELI LILLY": "1%",
      "NATWEST GROUP PLC": "2%",
      "AIB GROUP PLC": "2%"
    },
    "ETF": {
      "XHLF": "1%",
      "ISHG": "4%",
      "ENGI": "1%",
      "LLY": "9%",
      "SLV": "2%",
      "BWZ": "2%",
      "LEMB": "1%",
      "abrdn Physical Silver Shares ETF": "3%",
      "ALV": "1%",
      "JMST": "1%",
      "A5G": "13%",
      "iShares Silver Trust": "3%",
      "abrdn Physical Precious Metals Basket Shares ETF": "2%",
      "SIVR": "2%",
      "RIO": "2%",
      "EMLC": "4%",
      "GLTR": "9%",
      "XLP": "8%",
      "KBC": "1%",
      "NWG": "10%"
    },
    "Obligations": {
      "iShares J.P. Morgan EM Local Currency Bond ETF": "1%",
      "SPDR Bloomberg Short Term International Treasury Bond ETF": "3%",
      "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "1%",
      "JPMorgan Ultra-Short Municipal Income Fund": "1%"
    },
    "Crypto": {
      "ZRX/USD": "7%"
    },
    "_tickers": {
      "XHLF": 0.0241,
      "ISHG": 0.0433,
      "ENGI": 0.0054,
      "LLY": 0.1053,
      "ALV": 0.0241,
      "LEMB": 0.0241,
      "SLV": 0.0483,
      "BWZ": 0.0483,
      "SIVR": 0.0483,
      "JMST": 0.0241,
      "KBC": 0.0338,
      "A5G": 0.1198,
      "GLTR": 0.1168,
      "RIO": 0.0217,
      "EMLC": 0.0433,
      "ZRX/USD": 0.0657,
      "XLP": 0.0811,
      "NWG": 0.1223
    },
    "_optimization": {
      "mode": "fallback_slsqp_failed",
      "is_heuristic": true,
      "vol_realized": 4.32,
      "vol_target": 12.0,
      "disclaimer": "Ce portefeuille utilise une allocation heuristique (r√®gles pr√©d√©finies) et non une optimisation math√©matique Markowitz. Les contraintes du profil (Mod√©r√©) sont incompatibles avec l'optimisation classique. Cette approche privil√©gie la robustesse √† l'optimalit√© th√©orique."
    },
    "_constraint_report": {
      "profile_name": "Mod√©r√©",
      "constraints": [
        {
          "name": "volatility",
          "constraint_type": "target",
          "cap": 12.0,
          "observed": 4.32,
          "slack": -4.68,
          "binding": false,
          "status": "VIOLATED",
          "details": {
            "tolerance": 3.0,
            "range_min": 9.0,
            "range_max": 15.0,
            "diff_from_target": -7.68
          }
        },
        {
          "name": "bonds_min",
          "constraint_type": "min",
          "cap": 15.0,
          "observed": 7.0,
          "slack": -8.0,
          "binding": false,
          "status": "CRITICAL",
          "details": {
            "count": 4,
            "breakdown": [
              {
                "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                "name": "iShares J.P. Morgan EM Local C",
                "weight": 1.4
              },
              {
                "id": "SPDR Bloomberg Short Term International Treasury Bond ETF",
                "name": "SPDR Bloomberg Short Term Inte",
                "weight": 2.8
              },
              {
                "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                "name": "BondBloxx Bloomberg Six Month ",
                "weight": 1.4
              },
              {
                "id": "JPMorgan Ultra-Short Municipal Income Fund",
                "name": "JPMorgan Ultra-Short Municipal",
                "weight": 1.4
              }
            ]
          }
        },
        {
          "name": "crypto_max",
          "constraint_type": "max",
          "cap": 5.0,
          "observed": 6.57,
          "slack": -1.57,
          "binding": false,
          "status": "VIOLATED",
          "details": {
            "breakdown": [
              {
                "id": "ZRX/USD",
                "name": "ZRX/USD",
                "weight": 6.57
              }
            ]
          }
        },
        {
          "name": "max_single_position",
          "constraint_type": "max",
          "cap": 15.0,
          "observed": 9.85,
          "slack": 5.15,
          "binding": false,
          "status": "OK",
          "details": {
            "largest_position": {
              "id": "NWG",
              "name": "NWG",
              "weight": 9.85
            },
            "positions_above_10pct": []
          }
        },
        {
          "name": "max_sector",
          "constraint_type": "max",
          "cap": 30.0,
          "observed": 7.98,
          "slack": 22.02,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Finance",
            "counts_in_max_sector": {
              "Finance": 7.98,
              "Sant√©": 1.4
            },
            "all_sectors": {
              "Finance": 7.98,
              "Diversified": 7.98,
              "Bonds": 7.0,
              "Crypto": 6.57,
              "Sant√©": 1.4
            },
            "scope": "EQUITY_LIKE only (excludes Bonds)"
          }
        },
        {
          "name": "max_region",
          "constraint_type": "max",
          "cap": 50.0,
          "observed": 2.38,
          "slack": 47.62,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Royaume-Uni",
            "counts_in_max_region": {
              "Royaume-Uni": 2.38,
              "Irlande": 2.24,
              "Belgique": 1.96,
              "Allemagne": 1.4,
              "Etats-Unis": 1.4
            },
            "all_regions": {
              "Global": 21.55,
              "Royaume-Uni": 2.38,
              "Irlande": 2.24,
              "Belgique": 1.96,
              "Allemagne": 1.4,
              "Etats-Unis": 1.4
            },
            "scope": "EQUITY_LIKE + LEVERAGED only"
          }
        },
        {
          "name": "min_assets",
          "constraint_type": "min",
          "cap": 10,
          "observed": 30,
          "slack": 20,
          "binding": false,
          "status": "OK",
          "details": {}
        },
        {
          "name": "max_assets",
          "constraint_type": "max",
          "cap": 18,
          "observed": 30,
          "slack": -12,
          "binding": false,
          "status": "CRITICAL",
          "details": {}
        },
        {
          "name": "bucket_core",
          "constraint_type": "range",
          "cap": 55.0,
          "observed": 11.76,
          "slack": -23.24,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 35.0,
            "range_max": 55.0,
            "slack_from_min": -23.24,
            "slack_from_max": 43.24,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_satellite",
          "constraint_type": "range",
          "cap": 35.0,
          "observed": 12.17,
          "slack": -2.83,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 15.0,
            "range_max": 35.0,
            "slack_from_min": -2.83,
            "slack_from_max": 22.83,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_defensive",
          "constraint_type": "range",
          "cap": 30.0,
          "observed": 7.0,
          "slack": -13.0,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 20.0,
            "range_max": 30.0,
            "slack_from_min": -13.0,
            "slack_from_max": 23.0,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_lottery",
          "constraint_type": "range",
          "cap": 2.0,
          "observed": 0,
          "slack": 0.0,
          "binding": true,
          "status": "BINDING",
          "details": {
            "range_min": 0.0,
            "range_max": 2.0,
            "slack_from_min": 0.0,
            "slack_from_max": 2.0,
            "outside_range": false,
            "is_indicator": true
          }
        },
        {
          "name": "alternative_cap",
          "constraint_type": "max",
          "cap": 15.0,
          "observed": 0,
          "slack": 15.0,
          "binding": false,
          "status": "OK",
          "details": {
            "includes": [
              "Derivative Income",
              "Defined Outcome",
              "Allocation funds"
            ]
          }
        }
      ],
      "summary": {
        "total": 13,
        "ok": 9,
        "binding": 0,
        "violated": 2,
        "critical": 2
      },
      "quality_score": 66.2,
      "recommendations": [
        "üü† VIOLATED: volatility exceeded by 4.7% ‚Äî reduce exposure",
        "üî¥ CRITICAL: bonds_min violated by 8.0% ‚Äî immediate action required",
        "üü† VIOLATED: crypto_max exceeded by 1.6% ‚Äî reduce exposure",
        "üî¥ CRITICAL: max_assets violated by 12.0% ‚Äî immediate action required",
        "‚ÑπÔ∏è INFO: bucket_core is 23.2% outside target range (indicator only)",
        "‚ÑπÔ∏è INFO: bucket_defensive is 13.0% outside target range (indicator only)"
      ],
      "exposures": {
        "by_category": {
          "Unknown": 69.05,
          "Actions": 9.38,
          "Obligations": 7.0,
          "ETF": 7.98,
          "Crypto": 6.57
        },
        "by_sector": {
          "Unknown": 69.05,
          "Finance": 7.98,
          "Diversified": 7.98,
          "Sant√©": 1.4
        },
        "by_region": {
          "Unknown": 69.05,
          "Global": 21.55,
          "Royaume-Uni": 2.38,
          "Irlande": 2.24,
          "Belgique": 1.96,
          "Allemagne": 1.4,
          "Etats-Unis": 1.4
        },
        "by_risk_bucket": {
          "unknown": 69.05,
          "equity_like": 9.38,
          "bond_like": 7.0,
          "real_assets": 7.98,
          "crypto": 6.57
        },
        "by_role": {
          "core": 11.76,
          "satellite": 12.17,
          "defensive": 7.0,
          "lottery": 0.0,
          "unknown": 69.05
        },
        "concentration": {
          "hhi": 585.0,
          "hhi_interpretation": "well_diversified",
          "effective_n": 17.09,
          "n_positions": 30,
          "top_5_weight": 46.13,
          "top_10_weight": 66.96,
          "largest_position": 9.85,
          "smallest_position": 0.54,
          "thresholds": {
            "well_diversified": "HHI < 1000",
            "diversified": "HHI 1000-1500",
            "moderately_concentrated": "HHI 1500-2500",
            "highly_concentrated": "HHI > 2500"
          },
          "source": "exposures.py"
        }
      },
      "ticker_mapping": [
        {
          "id": "NWG",
          "ticker": "NWG",
          "isin": null,
          "name": "Unknown (NWG)",
          "weight_pct": 9.85,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "A5G",
          "ticker": "A5G",
          "isin": null,
          "name": "Unknown (A5G)",
          "weight_pct": 9.74,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "GLTR",
          "ticker": "GLTR",
          "isin": null,
          "name": "Unknown (GLTR)",
          "weight_pct": 9.3,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "LLY",
          "ticker": "LLY",
          "isin": null,
          "name": "Unknown (LLY)",
          "weight_pct": 9.13,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "XLP",
          "ticker": "XLP",
          "isin": null,
          "name": "Unknown (XLP)",
          "weight_pct": 8.11,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "ZRX/USD",
          "ticker": "ZRX/USD",
          "isin": null,
          "name": "ZRX/USD",
          "weight_pct": 6.57,
          "category": "Crypto",
          "risk_bucket": "crypto",
          "sector": "Crypto",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "ISHG",
          "ticker": "ISHG",
          "isin": null,
          "name": "Unknown (ISHG)",
          "weight_pct": 4.33,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "EMLC",
          "ticker": "EMLC",
          "isin": null,
          "name": "Unknown (EMLC)",
          "weight_pct": 4.33,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "abrdn Physical Silver Shares ETF",
          "ticker": "SIVR",
          "isin": NaN,
          "name": "abrdn Physical Silver Shares ETF",
          "weight_pct": 2.8,
          "category": "ETF",
          "risk_bucket": "real_assets",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "SPDR Bloomberg Short Term International Treasury Bond ETF",
          "ticker": "BWZ",
          "isin": NaN,
          "name": "SPDR Bloomberg Short Term International Treasury Bond ETF",
          "weight_pct": 2.8,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "iShares Silver Trust",
          "ticker": "SLV",
          "isin": NaN,
          "name": "iShares Silver Trust",
          "weight_pct": 2.8,
          "category": "ETF",
          "risk_bucket": "real_assets",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "abrdn Physical Precious Metals Basket Shares ETF",
          "ticker": "GLTR",
          "isin": NaN,
          "name": "abrdn Physical Precious Metals Basket Shares ETF",
          "weight_pct": 2.38,
          "category": "ETF",
          "risk_bucket": "real_assets",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "EQ_573",
          "ticker": "NWG",
          "isin": null,
          "name": "NATWEST GROUP PLC",
          "weight_pct": 2.38,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Royaume-Uni",
          "exchange": null
        },
        {
          "id": "EQ_641",
          "ticker": "A5G",
          "isin": null,
          "name": "AIB GROUP PLC",
          "weight_pct": 2.24,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Irlande",
          "exchange": null
        },
        {
          "id": "RIO",
          "ticker": "RIO",
          "isin": null,
          "name": "Unknown (RIO)",
          "weight_pct": 2.17,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "SLV",
          "ticker": "SLV",
          "isin": null,
          "name": "Unknown (SLV)",
          "weight_pct": 2.03,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "BWZ",
          "ticker": "BWZ",
          "isin": null,
          "name": "Unknown (BWZ)",
          "weight_pct": 2.03,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "SIVR",
          "ticker": "SIVR",
          "isin": null,
          "name": "Unknown (SIVR)",
          "weight_pct": 2.03,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "EQ_629",
          "ticker": "KBC",
          "isin": null,
          "name": "KBC GROEP",
          "weight_pct": 1.96,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Belgique",
          "exchange": null
        },
        {
          "id": "KBC",
          "ticker": "KBC",
          "isin": null,
          "name": "Unknown (KBC)",
          "weight_pct": 1.42,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "EQ_537",
          "ticker": "ALV",
          "isin": null,
          "name": "ALLIANZ",
          "weight_pct": 1.4,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Allemagne",
          "exchange": null
        },
        {
          "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "isin": NaN,
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "weight_pct": 1.4,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "EQ_10",
          "ticker": "LLY",
          "isin": null,
          "name": "ELI LILLY",
          "weight_pct": 1.4,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Sant√©",
          "region": "Etats-Unis",
          "exchange": null
        },
        {
          "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "isin": NaN,
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
          "weight_pct": 1.4,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "isin": NaN,
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "weight_pct": 1.4,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "XHLF",
          "ticker": "XHLF",
          "isin": null,
          "name": "Unknown (XHLF)",
          "weight_pct": 1.01,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "LEMB",
          "ticker": "LEMB",
          "isin": null,
          "name": "Unknown (LEMB)",
          "weight_pct": 1.01,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "ALV",
          "ticker": "ALV",
          "isin": null,
          "name": "Unknown (ALV)",
          "weight_pct": 1.01,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "JMST",
          "ticker": "JMST",
          "isin": null,
          "name": "Unknown (JMST)",
          "weight_pct": 1.01,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "ENGI",
          "ticker": "ENGI",
          "isin": null,
          "name": "Unknown (ENGI)",
          "weight_pct": 0.54,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        }
      ],
      "execution_summary": {
        "n_positions": 30,
        "n_exchanges": 0,
        "exchanges": [],
        "total_weight": 99.98,
        "missing_isin": 23,
        "missing_ticker": 0,
        "data_quality": {
          "isin_coverage": 23.3,
          "ticker_coverage": 100.0
        },
        "ready_for_execution": true
      }
    },
    "_exposures": {
      "by_category": {
        "Unknown": 69.05,
        "Actions": 9.38,
        "Obligations": 7.0,
        "ETF": 7.98,
        "Crypto": 6.57
      },
      "by_sector": {
        "Unknown": 69.05,
        "Finance": 7.98,
        "Diversified": 7.98,
        "Sant√©": 1.4
      },
      "by_region": {
        "Unknown": 69.05,
        "Global": 21.55,
        "Royaume-Uni": 2.38,
        "Irlande": 2.24,
        "Belgique": 1.96,
        "Allemagne": 1.4,
        "Etats-Unis": 1.4
      },
      "by_risk_bucket": {
        "unknown": 69.05,
        "equity_like": 9.38,
        "bond_like": 7.0,
        "real_assets": 7.98,
        "crypto": 6.57
      },
      "by_role": {
        "core": 11.76,
        "satellite": 12.17,
        "defensive": 7.0,
        "lottery": 0.0,
        "unknown": 69.05
      },
      "concentration": {
        "hhi": 585.0,
        "hhi_interpretation": "well_diversified",
        "effective_n": 17.09,
        "n_positions": 30,
        "top_5_weight": 46.13,
        "top_10_weight": 66.96,
        "largest_position": 9.85,
        "smallest_position": 0.54,
        "thresholds": {
          "well_diversified": "HHI < 1000",
          "diversified": "HHI 1000-1500",
          "moderately_concentrated": "HHI 1500-2500",
          "highly_concentrated": "HHI > 2500"
        },
        "source": "exposures.py"
      }
    },
    "_execution_summary": {
      "n_positions": 30,
      "n_exchanges": 0,
      "exchanges": [],
      "total_weight": 99.98,
      "missing_isin": 23,
      "missing_ticker": 0,
      "data_quality": {
        "isin_coverage": 23.3,
        "ticker_coverage": 100.0
      },
      "ready_for_execution": true
    },
    "_limitations": [
      "Allocation heuristique (fallback_slsqp_failed): les contraintes du profil Mod√©r√© sont incompatibles avec l'optimisation Markowitz classique.",
      "Volatilit√© r√©alis√©e (4.3%) √©loign√©e de la cible (12.0%) - √©cart de 7.7%."
    ]
  },
  "Stable": {
    "Commentaire": "Ce portefeuille mod√®le Stable privil√©gie la pr√©servation du capital avec une allocation majoritairement obligataire et des actifs √† faible volatilit√© historique. L'objectif est de limiter les fluctuations tout en g√©n√©rant un rendement mod√©r√©. Malgr√© son profil d√©fensif, ce portefeuille reste expos√© au risque de taux et au risque de cr√©dit. En p√©riode de hausse des taux, la valeur des obligations peut diminuer significativement. Ce portefeuille compte 21 lignes avec une volatilit√© estim√©e de 0.6%. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
    "Actions": {
      "ALLIANZ": "1%",
      "VISA INC CLASS A": "1%"
    },
    "ETF": {
      "XHLF": "10%",
      "Vanguard Total International Stock Index Fund": "2%",
      "TBIL": "10%",
      "VXUS": "9%",
      "SHV": "5%",
      "VEA": "8%",
      "ALV": "4%",
      "SGOV": "10%",
      "iShares MSCI All Country Asia ex Japan ETF": "2%",
      "JMST": "10%",
      "VANGUARD FTSE DEVELOPED MARKETS ETF": "1%",
      "V": "7%",
      "AAXJ": "9%",
      "SBILIFE": "2%"
    },
    "Obligations": {
      "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "2%",
      "US Treasury 3 Month Bill ETF": "2%",
      "iShares 0-3 Month Treasury Bond ETF": "2%",
      "JPMorgan Ultra-Short Municipal Income Fund": "2%",
      "iShares Short Treasury Bond ETF": "1%"
    },
    "Crypto": {},
    "_tickers": {
      "XHLF": 0.1201,
      "VXUS": 0.1029,
      "TBIL": 0.1201,
      "ALV": 0.0514,
      "SHV": 0.0566,
      "VEA": 0.0951,
      "SGOV": 0.1235,
      "AAXJ": 0.1029,
      "JMST": 0.1201,
      "V": 0.0823,
      "SBILIFE": 0.0206
    },
    "_optimization": {
      "mode": "fallback_heuristic",
      "is_heuristic": true,
      "vol_realized": 0.6,
      "vol_target": 6.0,
      "disclaimer": "Ce portefeuille utilise une allocation heuristique (r√®gles pr√©d√©finies) et non une optimisation math√©matique Markowitz. Les contraintes du profil (Stable) sont incompatibles avec l'optimisation classique. Cette approche privil√©gie la robustesse √† l'optimalit√© th√©orique.",
      "heuristic_name": "stable_rules_v1",
      "heuristic_version": "1.0.0",
      "rules_applied": [
        "bonds_min_35pct",
        "defensive_bucket_45_60pct",
        "vol_target_6pct_tolerance_3pct",
        "max_single_position_15pct",
        "max_single_bond_25pct",
        "min_assets_10",
        "max_assets_18",
        "low_vol_assets_preferred"
      ],
      "rules_parameters": {
        "bonds_min": 35.0,
        "vol_target": 6.0,
        "vol_tolerance": 3.0,
        "max_single_position": 15.0,
        "max_single_bond": 25.0,
        "min_assets": 10,
        "max_assets": 18,
        "defensive_min": 45.0,
        "defensive_max": 60.0
      },
      "why_not_slsqp": "vol_target_incompatible_with_markowitz",
      "why_not_slsqp_details": "Le profil Stable requiert vol_target=6% ¬± 3% et >35% obligations. Ces contraintes sont math√©matiquement incompatibles avec l'optimisation Markowitz mean-variance. L'univers d'actifs disponibles ne permet pas d'atteindre une volatilit√© si basse avec diversification suffisante. Fallback vers allocation heuristique (r√®gles pr√©d√©finies)."
    },
    "_constraint_report": {
      "profile_name": "Stable",
      "constraints": [
        {
          "name": "volatility",
          "constraint_type": "target",
          "cap": 6.0,
          "observed": 0.6,
          "slack": -2.4,
          "binding": false,
          "status": "VIOLATED",
          "details": {
            "tolerance": 3.0,
            "range_min": 3.0,
            "range_max": 9.0,
            "diff_from_target": -5.4
          }
        },
        {
          "name": "bonds_min",
          "constraint_type": "min",
          "cap": 35.0,
          "observed": 8.14,
          "slack": -26.86,
          "binding": false,
          "status": "CRITICAL",
          "details": {
            "count": 5,
            "breakdown": [
              {
                "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                "name": "BondBloxx Bloomberg Six Month ",
                "weight": 1.81
              },
              {
                "id": "US Treasury 3 Month Bill ETF",
                "name": "US Treasury 3 Month Bill ETF",
                "weight": 1.81
              },
              {
                "id": "iShares 0-3 Month Treasury Bond ETF",
                "name": "iShares 0-3 Month Treasury Bon",
                "weight": 1.86
              },
              {
                "id": "JPMorgan Ultra-Short Municipal Income Fund",
                "name": "JPMorgan Ultra-Short Municipal",
                "weight": 1.81
              },
              {
                "id": "iShares Short Treasury Bond ETF",
                "name": "iShares Short Treasury Bond ET",
                "weight": 0.85
              }
            ]
          }
        },
        {
          "name": "max_single_position",
          "constraint_type": "max",
          "cap": 15.0,
          "observed": 10.49,
          "slack": 4.51,
          "binding": false,
          "status": "OK",
          "details": {
            "largest_position": {
              "id": "SGOV",
              "name": "SGOV",
              "weight": 10.49
            },
            "positions_above_10pct": [
              {
                "id": "XHLF",
                "weight": 10.2
              },
              {
                "id": "TBIL",
                "weight": 10.2
              },
              {
                "id": "SGOV",
                "weight": 10.49
              },
              {
                "id": "JMST",
                "weight": 10.2
              }
            ]
          }
        },
        {
          "name": "max_sector",
          "constraint_type": "max",
          "cap": 30.0,
          "observed": 4.5,
          "slack": 25.5,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Diversified",
            "counts_in_max_sector": {
              "Diversified": 4.5,
              "Finance": 2.0
            },
            "all_sectors": {
              "Bonds": 8.14,
              "Diversified": 4.5,
              "Finance": 2.0
            },
            "scope": "EQUITY_LIKE only (excludes Bonds)"
          }
        },
        {
          "name": "max_region",
          "constraint_type": "max",
          "cap": 50.0,
          "observed": 4.5,
          "slack": 45.5,
          "binding": false,
          "status": "OK",
          "details": {
            "most_concentrated": "Global",
            "counts_in_max_region": {
              "Global": 4.5,
              "Etats-Unis": 1.23,
              "Allemagne": 0.77
            },
            "all_regions": {
              "Global": 12.64,
              "Etats-Unis": 1.23,
              "Allemagne": 0.77
            },
            "scope": "EQUITY_LIKE + LEVERAGED only"
          }
        },
        {
          "name": "min_assets",
          "constraint_type": "min",
          "cap": 10,
          "observed": 21,
          "slack": 11,
          "binding": false,
          "status": "OK",
          "details": {}
        },
        {
          "name": "max_assets",
          "constraint_type": "max",
          "cap": 18,
          "observed": 21,
          "slack": -3,
          "binding": false,
          "status": "VIOLATED",
          "details": {}
        },
        {
          "name": "bucket_core",
          "constraint_type": "range",
          "cap": 40.0,
          "observed": 5.27,
          "slack": -24.73,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 30.0,
            "range_max": 40.0,
            "slack_from_min": -24.73,
            "slack_from_max": 34.73,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_satellite",
          "constraint_type": "range",
          "cap": 15.0,
          "observed": 1.23,
          "slack": -3.77,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 5.0,
            "range_max": 15.0,
            "slack_from_min": -3.77,
            "slack_from_max": 13.77,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_defensive",
          "constraint_type": "range",
          "cap": 60.0,
          "observed": 8.14,
          "slack": -36.86,
          "binding": false,
          "status": "OK",
          "details": {
            "range_min": 45.0,
            "range_max": 60.0,
            "slack_from_min": -36.86,
            "slack_from_max": 51.86,
            "outside_range": true,
            "is_indicator": true
          }
        },
        {
          "name": "bucket_lottery",
          "constraint_type": "range",
          "cap": 0.0,
          "observed": 0,
          "slack": 0.0,
          "binding": true,
          "status": "BINDING",
          "details": {
            "range_min": 0.0,
            "range_max": 0.0,
            "slack_from_min": 0.0,
            "slack_from_max": 0.0,
            "outside_range": false,
            "is_indicator": true
          }
        },
        {
          "name": "alternative_cap",
          "constraint_type": "max",
          "cap": 5.0,
          "observed": 0,
          "slack": 5.0,
          "binding": false,
          "status": "OK",
          "details": {
            "includes": [
              "Derivative Income",
              "Defined Outcome",
              "Allocation funds"
            ]
          }
        }
      ],
      "summary": {
        "total": 12,
        "ok": 9,
        "binding": 0,
        "violated": 2,
        "critical": 1
      },
      "quality_score": 73.3,
      "recommendations": [
        "üü† VIOLATED: volatility exceeded by 2.4% ‚Äî reduce exposure",
        "üî¥ CRITICAL: bonds_min violated by 26.9% ‚Äî immediate action required",
        "üü† VIOLATED: max_assets exceeded by 3.0% ‚Äî reduce exposure",
        "‚ÑπÔ∏è INFO: bucket_core is 24.7% outside target range (indicator only)",
        "‚ÑπÔ∏è INFO: bucket_defensive is 36.9% outside target range (indicator only)"
      ],
      "exposures": {
        "by_category": {
          "Unknown": 84.92,
          "ETF": 4.5,
          "Actions": 2.0,
          "Obligations": 8.14
        },
        "by_sector": {
          "Unknown": 84.92,
          "Diversified": 4.5,
          "Finance": 2.0
        },
        "by_region": {
          "Unknown": 84.92,
          "Global": 12.64,
          "Etats-Unis": 1.23,
          "Allemagne": 0.77
        },
        "by_risk_bucket": {
          "unknown": 84.92,
          "equity_like": 6.5,
          "bond_like": 8.14
        },
        "by_role": {
          "core": 5.27,
          "satellite": 1.23,
          "defensive": 8.14,
          "lottery": 0.0,
          "unknown": 84.92
        },
        "concentration": {
          "hhi": 759.0,
          "hhi_interpretation": "well_diversified",
          "effective_n": 13.17,
          "n_positions": 21,
          "top_5_weight": 49.84,
          "top_10_weight": 82.86,
          "largest_position": 10.49,
          "smallest_position": 0.77,
          "thresholds": {
            "well_diversified": "HHI < 1000",
            "diversified": "HHI 1000-1500",
            "moderately_concentrated": "HHI 1500-2500",
            "highly_concentrated": "HHI > 2500"
          },
          "source": "exposures.py"
        }
      },
      "ticker_mapping": [
        {
          "id": "SGOV",
          "ticker": "SGOV",
          "isin": null,
          "name": "Unknown (SGOV)",
          "weight_pct": 10.49,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "XHLF",
          "ticker": "XHLF",
          "isin": null,
          "name": "Unknown (XHLF)",
          "weight_pct": 10.2,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "TBIL",
          "ticker": "TBIL",
          "isin": null,
          "name": "Unknown (TBIL)",
          "weight_pct": 10.2,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "JMST",
          "ticker": "JMST",
          "isin": null,
          "name": "Unknown (JMST)",
          "weight_pct": 10.2,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "VXUS",
          "ticker": "VXUS",
          "isin": null,
          "name": "Unknown (VXUS)",
          "weight_pct": 8.75,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "AAXJ",
          "ticker": "AAXJ",
          "isin": null,
          "name": "Unknown (AAXJ)",
          "weight_pct": 8.75,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "VEA",
          "ticker": "VEA",
          "isin": null,
          "name": "Unknown (VEA)",
          "weight_pct": 8.09,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "V",
          "ticker": "V",
          "isin": null,
          "name": "Unknown (V)",
          "weight_pct": 7.0,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "SHV",
          "ticker": "SHV",
          "isin": null,
          "name": "Unknown (SHV)",
          "weight_pct": 4.81,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "ALV",
          "ticker": "ALV",
          "isin": null,
          "name": "Unknown (ALV)",
          "weight_pct": 4.37,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "SBILIFE",
          "ticker": "SBILIFE",
          "isin": null,
          "name": "Unknown (SBILIFE)",
          "weight_pct": 2.06,
          "category": "Unknown",
          "risk_bucket": "unknown",
          "sector": "Unknown",
          "region": "Unknown",
          "exchange": null
        },
        {
          "id": "iShares 0-3 Month Treasury Bond ETF",
          "ticker": "SGOV",
          "isin": NaN,
          "name": "iShares 0-3 Month Treasury Bond ETF",
          "weight_pct": 1.86,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "isin": NaN,
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
          "weight_pct": 1.81,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "US Treasury 3 Month Bill ETF",
          "ticker": "TBIL",
          "isin": NaN,
          "name": "US Treasury 3 Month Bill ETF",
          "weight_pct": 1.81,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "isin": NaN,
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "weight_pct": 1.81,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "Vanguard Total International Stock Index Fund",
          "ticker": "VXUS",
          "isin": NaN,
          "name": "Vanguard Total International Stock Index Fund",
          "weight_pct": 1.54,
          "category": "ETF",
          "risk_bucket": "equity_like",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "iShares MSCI All Country Asia ex Japan ETF",
          "ticker": "AAXJ",
          "isin": NaN,
          "name": "iShares MSCI All Country Asia ex Japan ETF",
          "weight_pct": 1.54,
          "category": "ETF",
          "risk_bucket": "equity_like",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "VANGUARD FTSE DEVELOPED MARKETS ETF",
          "ticker": "VEA",
          "isin": NaN,
          "name": "VANGUARD FTSE DEVELOPED MARKETS ETF",
          "weight_pct": 1.42,
          "category": "ETF",
          "risk_bucket": "equity_like",
          "sector": "Diversified",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "EQ_12",
          "ticker": "V",
          "isin": null,
          "name": "VISA INC CLASS A",
          "weight_pct": 1.23,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Etats-Unis",
          "exchange": null
        },
        {
          "id": "iShares Short Treasury Bond ETF",
          "ticker": "SHV",
          "isin": NaN,
          "name": "iShares Short Treasury Bond ETF",
          "weight_pct": 0.85,
          "category": "Obligations",
          "risk_bucket": "bond_like",
          "sector": "Bonds",
          "region": "Global",
          "exchange": null
        },
        {
          "id": "EQ_537",
          "ticker": "ALV",
          "isin": null,
          "name": "ALLIANZ",
          "weight_pct": 0.77,
          "category": "Actions",
          "risk_bucket": "equity_like",
          "sector": "Finance",
          "region": "Allemagne",
          "exchange": null
        }
      ],
      "execution_summary": {
        "n_positions": 21,
        "n_exchanges": 0,
        "exchanges": [],
        "total_weight": 99.56,
        "missing_isin": 13,
        "missing_ticker": 0,
        "data_quality": {
          "isin_coverage": 38.1,
          "ticker_coverage": 100.0
        },
        "ready_for_execution": true
      }
    },
    "_exposures": {
      "by_category": {
        "Unknown": 84.92,
        "ETF": 4.5,
        "Actions": 2.0,
        "Obligations": 8.14
      },
      "by_sector": {
        "Unknown": 84.92,
        "Diversified": 4.5,
        "Finance": 2.0
      },
      "by_region": {
        "Unknown": 84.92,
        "Global": 12.64,
        "Etats-Unis": 1.23,
        "Allemagne": 0.77
      },
      "by_risk_bucket": {
        "unknown": 84.92,
        "equity_like": 6.5,
        "bond_like": 8.14
      },
      "by_role": {
        "core": 5.27,
        "satellite": 1.23,
        "defensive": 8.14,
        "lottery": 0.0,
        "unknown": 84.92
      },
      "concentration": {
        "hhi": 759.0,
        "hhi_interpretation": "well_diversified",
        "effective_n": 13.17,
        "n_positions": 21,
        "top_5_weight": 49.84,
        "top_10_weight": 82.86,
        "largest_position": 10.49,
        "smallest_position": 0.77,
        "thresholds": {
          "well_diversified": "HHI < 1000",
          "diversified": "HHI 1000-1500",
          "moderately_concentrated": "HHI 1500-2500",
          "highly_concentrated": "HHI > 2500"
        },
        "source": "exposures.py"
      }
    },
    "_execution_summary": {
      "n_positions": 21,
      "n_exchanges": 0,
      "exchanges": [],
      "total_weight": 99.56,
      "missing_isin": 13,
      "missing_ticker": 0,
      "data_quality": {
        "isin_coverage": 38.1,
        "ticker_coverage": 100.0
      },
      "ready_for_execution": true
    },
    "_limitations": [
      "Allocation heuristique (fallback_heuristic): les contraintes du profil Stable sont incompatibles avec l'optimisation Markowitz classique.",
      "Volatilit√© r√©alis√©e (0.6%) √©loign√©e de la cible (6.0%) - √©cart de 5.4%."
    ]
  },
  "_meta": {
    "generated_at": "2025-12-23T15:57:59.866397",
    "version": "v4.9.0",
    "buffett_mode": "soft",
    "buffett_min_score": 40,
    "tactical_context_enabled": true,
    "tactical_mode": "radar",
    "tactical_rules": {
      "sweet_ytd_min": 10.0,
      "sweet_ytd_max": 35.0,
      "sweet_daily_min": -0.5,
      "overheat_ytd_min": 50.0,
      "smoothing_alpha": 0.3,
      "max_favored_sectors": 5,
      "max_avoided_sectors": 3,
      "max_favored_regions": 4,
      "max_avoided_regions": 3
    },
    "backtest_days": 90,
    "platform_fee_annual_bp": 0.0,
    "ter_handling": "embedded_in_etf_prices",
    "optimization_modes": {
      "Agressif": "fallback_slsqp_failed",
      "Mod√©r√©": "fallback_slsqp_failed",
      "Stable": "fallback_heuristic"
    }
  }
}