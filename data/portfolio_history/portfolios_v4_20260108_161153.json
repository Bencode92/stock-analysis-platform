{
  "version": "v4.8.7",
  "timestamp": "20260108_161153",
  "date": "2026-01-08T16:11:53.812473",
  "buffett_config": {
    "mode": "soft",
    "min_score": 40
  },
  "tactical_config": {
    "enabled": true,
    "data_dir": "data"
  },
  "backtest_config": {
    "days": 90,
    "freq": "M",
    "platform_fee_annual_bp": 0.0,
    "ter_handling": "embedded_in_etf_prices"
  },
  "portfolios": {
    "Agressif": {
      "allocation": {
        "iShares J.P. Morgan EM Local Currency Bond ETF": 13.55,
        "iShares 3 Year International Treasury Bond ETF": 5.47,
        "VanEck J.P. Morgan EM Local Currency Bond ETF": 5.47,
        "SPDR Bloomberg International Corporate Bond ETF": 8.68,
        "EQ_590": 14.81,
        "EQ_295": 11.85,
        "EQ_528": 11.85,
        "EQ_807": 11.85,
        "EQ_53": 11.11,
        "BTS/USD": 2.01,
        "GNO/USD": 2.01,
        "GNT/USD": 1.34
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_slsqp_failed",
        "fallback_reason": "Inequality constraints incompatible",
        "fallback_heuristic": false,
        "heuristic_name": null,
        "heuristic_version": null,
        "rules_applied": null,
        "rules_parameters": null,
        "why_not_slsqp": null,
        "why_not_slsqp_details": null,
        "message": "Fallback: Inequality constraints incompatible",
        "portfolio_vol": 11.34,
        "vol_target": 18.0,
        "vol_tolerance": 3.0,
        "vol_diff": -6.66,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 30.0,
        "turnover_penalty_lambda": 0.05,
        "portfolio_score": 1.087,
        "n_assets": 12,
        "n_bonds": 4,
        "n_crypto": 3,
        "crypto_max_allowed": 10.0,
        "sectors": {
          "Bonds": 33.17,
          "Services publics": 14.81,
          "Finance": 23.7,
          "Sant√©": 22.96,
          "Crypto": 5.359999999999999
        },
        "bucket_exposure": {
          "defensive": 33.17,
          "core": 14.81,
          "satellite": 52.019999999999996
        },
        "bucket_compliance": {
          "core": {
            "actual": 14.8,
            "target_min": 30.0,
            "target_max": 45.0,
            "in_range": false
          },
          "satellite": {
            "actual": 52.0,
            "target_min": 35.0,
            "target_max": 60.0,
            "in_range": true
          },
          "defensive": {
            "actual": 33.2,
            "target_min": 5.0,
            "target_max": 15.0,
            "in_range": false
          },
          "lottery": {
            "actual": 0.0,
            "target_min": 0.0,
            "target_max": 5.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 2806.99,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 0,
          "eigen_clipped_pct": 0.0,
          "eigenvalue_min": 0.000866554673201737,
          "eigenvalue_max": 2.4324099830490535,
          "eigenvalue_min_raw": 0.000866554673201737,
          "matrix_size": 54,
          "is_well_conditioned": true,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Agressif",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 18.0,
              "observed": 11.34,
              "slack": -3.66,
              "binding": false,
              "status": "VIOLATED",
              "details": {
                "tolerance": 3.0,
                "range_min": 15.0,
                "range_max": 21.0,
                "diff_from_target": -6.66
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 5.0,
              "observed": 33.17,
              "slack": 28.17,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 4,
                "breakdown": [
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "name": "iShares J.P. Morgan EM Local C",
                    "weight": 13.55
                  },
                  {
                    "id": "iShares 3 Year International Treasury Bond ETF",
                    "name": "iShares 3 Year International T",
                    "weight": 5.47
                  },
                  {
                    "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
                    "name": "VanEck J.P. Morgan EM Local Cu",
                    "weight": 5.47
                  },
                  {
                    "id": "SPDR Bloomberg International Corporate Bond ETF",
                    "name": "SPDR Bloomberg International C",
                    "weight": 8.68
                  }
                ]
              }
            },
            {
              "name": "crypto_max",
              "constraint_type": "max",
              "cap": 10.0,
              "observed": 5.36,
              "slack": 4.64,
              "binding": false,
              "status": "OK",
              "details": {
                "breakdown": [
                  {
                    "id": "BTS/USD",
                    "name": "BTS/USD",
                    "weight": 2.01
                  },
                  {
                    "id": "GNO/USD",
                    "name": "GNO/USD",
                    "weight": 2.01
                  },
                  {
                    "id": "GNT/USD",
                    "name": "GNT/USD",
                    "weight": 1.34
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 14.81,
              "slack": 0.19,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "EQ_590",
                  "name": "ENGIE SA",
                  "weight": 14.81
                },
                "positions_above_10pct": [
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "weight": 13.55
                  },
                  {
                    "id": "EQ_590",
                    "weight": 14.81
                  },
                  {
                    "id": "EQ_295",
                    "weight": 11.85
                  },
                  {
                    "id": "EQ_528",
                    "weight": 11.85
                  },
                  {
                    "id": "EQ_807",
                    "weight": 11.85
                  },
                  {
                    "id": "EQ_53",
                    "weight": 11.11
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 35.0,
              "observed": 23.7,
              "slack": 11.3,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 23.7,
                  "Sant√©": 22.96,
                  "Services publics": 14.81
                },
                "all_sectors": {
                  "Bonds": 33.17,
                  "Finance": 23.7,
                  "Sant√©": 22.96,
                  "Services publics": 14.81,
                  "Crypto": 5.36
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 22.96,
              "slack": 27.04,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Etats-Unis",
                "counts_in_max_region": {
                  "Etats-Unis": 22.96,
                  "France": 14.81,
                  "Royaume-Uni": 11.85,
                  "Inde": 11.85
                },
                "all_regions": {
                  "Global": 38.53,
                  "Etats-Unis": 22.96,
                  "France": 14.81,
                  "Royaume-Uni": 11.85,
                  "Inde": 11.85
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 12,
              "slack": 2,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 12,
              "slack": 6,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 45.0,
              "observed": 14.81,
              "slack": -15.19,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 30.0,
                "range_max": 45.0,
                "slack_from_min": -15.19,
                "slack_from_max": 30.19,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 60.0,
              "observed": 52.02,
              "slack": 7.98,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 35.0,
                "range_max": 60.0,
                "slack_from_min": 17.02,
                "slack_from_max": 7.98,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 15.0,
              "observed": 33.17,
              "slack": -18.17,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 5.0,
                "range_max": 15.0,
                "slack_from_min": 28.17,
                "slack_from_max": -18.17,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 5.0,
              "observed": 0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "range_min": 0.0,
                "range_max": 5.0,
                "slack_from_min": 0.0,
                "slack_from_max": 5.0,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "leveraged_cap",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 0,
              "slack": 5.0,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 20.0,
              "observed": 0,
              "slack": 20.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 14,
            "ok": 12,
            "binding": 1,
            "violated": 1,
            "critical": 0
          },
          "quality_score": 91.4,
          "recommendations": [
            "üü† VIOLATED: volatility exceeded by 3.7% ‚Äî reduce exposure",
            "üü° BINDING: max_single_position at 14.8% (cap=15.0%) ‚Äî monitor closely",
            "‚ÑπÔ∏è INFO: bucket_core is 15.2% outside target range (indicator only)",
            "‚ÑπÔ∏è INFO: bucket_defensive is 18.2% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 33.17,
              "Actions": 61.47,
              "Crypto": 5.36
            },
            "by_sector": {
              "Finance": 23.7,
              "Sant√©": 22.96,
              "Services publics": 14.81
            },
            "by_region": {
              "Global": 38.53,
              "Etats-Unis": 22.96,
              "France": 14.81,
              "Royaume-Uni": 11.85,
              "Inde": 11.85
            },
            "by_risk_bucket": {
              "bond_like": 33.17,
              "equity_like": 61.47,
              "crypto": 5.36
            },
            "by_role": {
              "core": 14.81,
              "satellite": 52.02,
              "defensive": 33.17,
              "lottery": 0.0,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1093.0,
              "hhi_interpretation": "diversified",
              "effective_n": 9.15,
              "n_positions": 12,
              "top_5_weight": 63.91,
              "top_10_weight": 96.65,
              "largest_position": 14.81,
              "smallest_position": 1.34,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 14.81,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "LEMB",
              "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 13.55,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 11.85,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "EQ_528",
              "ticker": "AZN",
              "name": "ASTRAZENECA PLC",
              "weight_pct": 11.85,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Sant√©",
              "region": "Royaume-Uni",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 11.85,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "EQ_53",
              "ticker": "AMGN",
              "name": "AMGEN INC",
              "weight_pct": 11.11,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Sant√©",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "SPDR Bloomberg International Corporate Bond ETF",
              "ticker": "IBND",
              "name": "SPDR Bloomberg International Corporate Bond ETF",
              "weight_pct": 8.68,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares 3 Year International Treasury Bond ETF",
              "ticker": "ISHG",
              "name": "iShares 3 Year International Treasury Bond ETF",
              "weight_pct": 5.47,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "EMLC",
              "name": "VanEck J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 5.47,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BTS/USD",
              "ticker": "BTS/USD",
              "name": "BTS/USD",
              "weight_pct": 2.01,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "GNO/USD",
              "ticker": "GNO/USD",
              "name": "GNO/USD",
              "weight_pct": 2.01,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "GNT/USD",
              "ticker": "GNT/USD",
              "name": "GNT/USD",
              "weight_pct": 1.34,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 12,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 100.0,
            "missing_isin": 8,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 33.3,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 14,
          "ok": 12,
          "binding": 1,
          "violated": 1,
          "critical": 0
        },
        "constraint_quality_score": 91.4,
        "constraint_violations": [
          {
            "name": "volatility",
            "constraint_type": "target",
            "cap": 18.0,
            "observed": 11.34,
            "slack": -3.66,
            "binding": false,
            "status": "VIOLATED",
            "details": {
              "tolerance": 3.0,
              "range_min": 15.0,
              "range_max": 21.0,
              "diff_from_target": -6.66
            }
          }
        ],
        "constraint_bindings": [
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 14.81,
            "slack": 0.19,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "EQ_590",
                "name": "ENGIE SA",
                "weight": 14.81
              },
              "positions_above_10pct": [
                {
                  "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                  "weight": 13.55
                },
                {
                  "id": "EQ_590",
                  "weight": 14.81
                },
                {
                  "id": "EQ_295",
                  "weight": 11.85
                },
                {
                  "id": "EQ_528",
                  "weight": 11.85
                },
                {
                  "id": "EQ_807",
                  "weight": 11.85
                },
                {
                  "id": "EQ_53",
                  "weight": 11.11
                }
              ]
            }
          },
          {
            "name": "bucket_lottery",
            "constraint_type": "range",
            "cap": 5.0,
            "observed": 0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "range_min": 0.0,
              "range_max": 5.0,
              "slack_from_min": 0.0,
              "slack_from_max": 5.0,
              "outside_range": false,
              "is_indicator": true
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 33.17,
            "Actions": 61.47,
            "Crypto": 5.36
          },
          "by_sector": {
            "Finance": 23.7,
            "Sant√©": 22.96,
            "Services publics": 14.81
          },
          "by_region": {
            "Global": 38.53,
            "Etats-Unis": 22.96,
            "France": 14.81,
            "Royaume-Uni": 11.85,
            "Inde": 11.85
          },
          "by_risk_bucket": {
            "bond_like": 33.17,
            "equity_like": 61.47,
            "crypto": 5.36
          },
          "by_role": {
            "core": 14.81,
            "satellite": 52.02,
            "defensive": 33.17,
            "lottery": 0.0,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1093.0,
            "hhi_interpretation": "diversified",
            "effective_n": 9.15,
            "n_positions": 12,
            "top_5_weight": 63.91,
            "top_10_weight": 96.65,
            "largest_position": 14.81,
            "smallest_position": 1.34,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 12,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 100.0,
          "missing_isin": 8,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 33.3,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 5.0,
            "min_assets": 10,
            "vol_target": "18.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Agressif",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "EQ_590": "ENGIE SA est bien positionn√©e dans le secteur des services publics, offrant une exposition √† des actifs √† faible volatilit√©, ce qui est pertinent dans un environnement de march√© mixte [SEC].",
        "iShares J.P. Morgan EM Local Currency Bond ETF": "Ce fonds vise √† diversifier les risques li√©s aux obligations en investissant dans des titres de cr√©ance en devise locale des march√©s √©mergents, ce qui peut √™tre sensible aux fluctuations des devises [MC].",
        "EQ_295": "CBOE GLOBAL MARKETS INC, acteur cl√© dans le secteur financier, pourrait b√©n√©ficier de la volatilit√© accrue des march√©s, mais reste expos√© √† des risques r√©glementaires [SEC].",
        "EQ_528": "ASTRAZENECA PLC, dans le secteur de la sant√©, est historiquement stable, mais peut √™tre affect√©e par des changements r√©glementaires et des innovations concurrentielles [SEC].",
        "EQ_807": "AXIS BANK LTD, acteur majeur dans le secteur bancaire indien, est expos√©e aux fluctuations √©conomiques et aux risques de cr√©dit [MC].",
        "EQ_53": "AMGEN INC, soci√©t√© biopharmaceutique, pr√©sente un potentiel de croissance, mais est soumise aux risques de recherche et d√©veloppement [TH].",
        "SPDR Bloomberg International Corporate Bond ETF": "Ce fonds offre une exposition diversifi√©e aux obligations d'entreprises internationales, mais peut √™tre affect√© par les taux d'int√©r√™t [MC].",
        "iShares 3 Year International Treasury Bond ETF": "Ce fonds vise √† r√©duire la sensibilit√© aux taux d'int√©r√™t, mais les rendements peuvent √™tre limit√©s dans un environnement de taux bas [MC].",
        "VanEck J.P. Morgan EM Local Currency Bond ETF": "Investir dans des obligations en devise locale des march√©s √©mergents peut offrir des rendements attractifs, mais expose √† des risques de change [MC].",
        "BTS/USD": "BTS/USD, actif crypto, pr√©sente un potentiel de rendement √©lev√©, mais est extr√™mement volatile et soumis √† des risques de march√© [TH].",
        "GNO/USD": "GNO/USD, une autre crypto-monnaie, est sensible aux fluctuations du march√© des cryptos, ce qui peut entra√Æner des pertes importantes [TH].",
        "GNT/USD": "GNT/USD, actif crypto, est √©galement soumis √† une forte volatilit√© et √† des incertitudes r√©glementaires [TH]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une allocation agressive, avec une exposition significative √† des actions et des actifs cryptographiques. Bien qu'il vise un rendement √©lev√©, il est important de noter les risques associ√©s √† la volatilit√© des march√©s et aux fluctuations des devises. De plus, la concentration dans possibles secteurs peut accro√Ætre l'exposition aux risques sp√©cifiques. Les investisseurs doivent √™tre conscients de la possibilit√© de pertes en capital. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüî¥ PROFIL AGRESSIF : Ce portefeuille pr√©sente un niveau de risque √©lev√©. Il est destin√© aux investisseurs ayant une tol√©rance au risque importante et un horizon d'investissement long terme (>5 ans).",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 466,
          "sanitized_length": 466
        },
        "timestamp": "2026-01-08T16:10:17.527044",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "rationale": "Cet actif a √©t√© s√©lectionn√© pour son exposition aux obligations en devises locales des march√©s √©mergents, offrant une diversification et un potentiel de rendement dans un environnement de taux d'int√©r√™t bas. Il joue un r√¥le de diversification dans le portefeuille, permettant d'att√©nuer la volatilit√© des actions.",
          "role": "diversification",
          "risk_note": "Risque de change et de cr√©dit dans les march√©s √©mergents.",
          "market_context_link": null,
          "weight_pct": 13.6,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.12,
            "volatility": 7.09,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 3 Year International Treasury Bond ETF",
          "ticker": "ISHG",
          "rationale": "Ce fonds offre une exposition aux obligations d'√âtat internationales, ce qui peut servir de protection contre la volatilit√© des march√©s. Il est utilis√© comme un actif de diversification pour stabiliser le portefeuille.",
          "role": "diversification",
          "risk_note": "Risque de taux d'int√©r√™t et de liquidit√©.",
          "market_context_link": null,
          "weight_pct": 5.5,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": -0.07,
            "volatility": 7.45,
            "buffett_score": null
          }
        },
        {
          "name": "VanEck J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "EMLC",
          "rationale": "S√©lectionn√© pour son exposition aux obligations en devises locales des march√©s √©mergents, ce fonds offre un potentiel de rendement attractif. Il contribue √† la diversification du portefeuille tout en ajoutant une exposition √† des √©conomies en croissance.",
          "role": "diversification",
          "risk_note": "Risque de change et de d√©faut de paiement.",
          "market_context_link": null,
          "weight_pct": 5.5,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.19,
            "volatility": 7.75,
            "buffett_score": null
          }
        },
        {
          "name": "SPDR Bloomberg International Corporate Bond ETF",
          "ticker": "IBND",
          "rationale": "Ce fonds investit dans des obligations d'entreprises internationales, offrant un rendement stable et une protection contre la volatilit√© des actions. Il agit comme un actif de diversification dans le portefeuille.",
          "role": "diversification",
          "risk_note": "Risque de cr√©dit des entreprises sous-jacentes.",
          "market_context_link": null,
          "weight_pct": 8.7,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.19,
            "volatility": 8.6,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE a √©t√© s√©lectionn√© pour son rendement dividende attractif et sa position solide dans le secteur des services publics. Il joue un r√¥le d'actif de revenu dans le portefeuille, offrant une stabilit√© et un flux de tr√©sorerie r√©gulier.",
          "role": "income",
          "risk_note": "Risque r√©glementaire et de fluctuation des prix de l'√©nergie.",
          "market_context_link": null,
          "weight_pct": 14.8,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE est un leader dans le secteur financier, avec un ROE √©lev√© et un potentiel de croissance. Il est int√©gr√© comme un actif satellite pour capitaliser sur la dynamique du secteur financier favoris√©.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© des march√©s financiers.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 11.8,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        },
        {
          "name": "ASTRAZENECA PLC",
          "ticker": "AZN",
          "rationale": "AstraZeneca est un acteur majeur dans le secteur de la sant√©, avec un bon potentiel de croissance √† long terme. Cet actif est int√©gr√© comme un satellite pour profiter de la tendance positive dans le secteur de la sant√©.",
          "role": "satellite",
          "risk_note": "Risque li√© √† la recherche et d√©veloppement de nouveaux m√©dicaments.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 11.8,
          "category": "Actions",
          "sector": "Sant√©",
          "country": "Royaume-Uni",
          "metrics": {
            "roe": 17.23,
            "pe_ratio": 30.40716,
            "dividend_yield": 1.75,
            "ytd": "-1.52",
            "volatility": "23.43",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "AXIS BANK a √©t√© s√©lectionn√©e pour son ROE solide et sa position dans le secteur financier en Inde. Elle sert d'actif satellite pour profiter de la croissance dans le secteur financier favoris√©.",
          "role": "satellite",
          "risk_note": "Risque de cr√©dit et de r√©glementation bancaire en Inde.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 11.8,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "1.66",
            "volatility": "21.54",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AMGEN INC",
          "ticker": "AMGN",
          "rationale": "Amgen est une entreprise de biotechnologie avec un ROE exceptionnel, offrant un potentiel de croissance dans le secteur de la sant√©. Cet actif est un satellite pour capitaliser sur les opportunit√©s dans le secteur de la sant√©.",
          "role": "satellite",
          "risk_note": "Risque li√© √† la concurrence et √† la r√©glementation dans le secteur pharmaceutique.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 11.1,
          "category": "Actions",
          "sector": "Sant√©",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 69.59,
            "pe_ratio": 25.31994,
            "dividend_yield": 2.94,
            "ytd": "-1.22",
            "volatility": "24.78",
            "buffett_score": 75.2
          }
        },
        {
          "name": "BTS/USD",
          "ticker": "BTS/USD",
          "rationale": "BTS/USD a √©t√© s√©lectionn√© pour son potentiel de croissance dans le secteur crypto, avec une performance positive YTD. Il agit comme un actif satellite pour diversifier le portefeuille avec une exposition aux cryptomonnaies.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© extr√™me et de r√©glementation dans le secteur crypto.",
          "market_context_link": null,
          "weight_pct": 2.0,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 4.8,
            "volatility": 35.46,
            "buffett_score": null
          }
        },
        {
          "name": "GNO/USD",
          "ticker": "GNO/USD",
          "rationale": "GNO/USD est choisi pour son rendement YTD solide et son potentiel dans le secteur crypto. Il sert d'actif satellite pour diversifier le portefeuille avec une exposition √† la technologie blockchain.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© et de s√©curit√© des plateformes crypto.",
          "market_context_link": null,
          "weight_pct": 2.0,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 5.28,
            "volatility": 41.25,
            "buffett_score": null
          }
        },
        {
          "name": "GNT/USD",
          "ticker": "GNT/USD",
          "rationale": "GNT/USD a √©t√© s√©lectionn√© pour sa performance exceptionnelle YTD, repr√©sentant une opportunit√© de croissance dans le secteur crypto. Il est un actif satellite pour diversifier le portefeuille avec une exposition √† des projets innovants.",
          "role": "satellite",
          "risk_note": "Risque de liquidit√© et de volatilit√© sur le march√© des cryptomonnaies.",
          "market_context_link": null,
          "weight_pct": 1.3,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 20.17,
            "volatility": 59.68,
            "buffett_score": null
          }
        }
      ]
    },
    "Mod√©r√©": {
      "allocation": {
        "JPMorgan Ultra-Short Municipal Income Fund": 14.43,
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": 11.55,
        "iShares J.P. Morgan EM Local Currency Bond ETF": 9.26,
        "iShares 3 Year International Treasury Bond ETF": 9.69,
        "EQ_590": 10.31,
        "EQ_295": 15.0,
        "EQ_807": 10.0,
        "EQ_528": 14.69,
        "BTS/USD": 0.5,
        "GNO/USD": 0.5,
        "GNT/USD": 4.07
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_slsqp_failed",
        "fallback_reason": "Positive directional derivative for linesearch",
        "fallback_heuristic": false,
        "heuristic_name": null,
        "heuristic_version": null,
        "rules_applied": null,
        "rules_parameters": null,
        "why_not_slsqp": null,
        "why_not_slsqp_details": null,
        "message": "Fallback: Positive directional derivative for linesearch",
        "portfolio_vol": 7.72,
        "vol_target": 12.0,
        "vol_tolerance": 3.0,
        "vol_diff": -4.28,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 25.0,
        "turnover_penalty_lambda": 0.1,
        "portfolio_score": 0.668,
        "n_assets": 11,
        "n_bonds": 4,
        "n_crypto": 3,
        "crypto_max_allowed": 5.0,
        "sectors": {
          "Bonds": 44.93,
          "Services publics": 10.31,
          "Finance": 25.0,
          "Sant√©": 14.69,
          "Crypto": 5.07
        },
        "bucket_exposure": {
          "defensive": 44.93,
          "core": 10.31,
          "satellite": 44.76
        },
        "bucket_compliance": {
          "core": {
            "actual": 10.3,
            "target_min": 35.0,
            "target_max": 55.0,
            "in_range": false
          },
          "satellite": {
            "actual": 44.8,
            "target_min": 15.0,
            "target_max": 35.0,
            "in_range": false
          },
          "defensive": {
            "actual": 44.9,
            "target_min": 20.0,
            "target_max": 30.0,
            "in_range": false
          },
          "lottery": {
            "actual": 0.0,
            "target_min": 0.0,
            "target_max": 2.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 9608.26,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 0,
          "eigen_clipped_pct": 0.0,
          "eigenvalue_min": 0.00010247640847576345,
          "eigenvalue_max": 0.9846204025951226,
          "eigenvalue_min_raw": 0.00010247640847576345,
          "matrix_size": 56,
          "is_well_conditioned": true,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Mod√©r√©",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 12.0,
              "observed": 7.72,
              "slack": -1.28,
              "binding": false,
              "status": "VIOLATED",
              "details": {
                "tolerance": 3.0,
                "range_min": 9.0,
                "range_max": 15.0,
                "diff_from_target": -4.28
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 15.0,
              "observed": 44.93,
              "slack": 29.93,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 4,
                "breakdown": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "name": "JPMorgan Ultra-Short Municipal",
                    "weight": 14.43
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "name": "BondBloxx Bloomberg Six Month ",
                    "weight": 11.55
                  },
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "name": "iShares J.P. Morgan EM Local C",
                    "weight": 9.26
                  },
                  {
                    "id": "iShares 3 Year International Treasury Bond ETF",
                    "name": "iShares 3 Year International T",
                    "weight": 9.69
                  }
                ]
              }
            },
            {
              "name": "crypto_max",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 5.07,
              "slack": -0.07,
              "binding": false,
              "status": "VIOLATED",
              "details": {
                "breakdown": [
                  {
                    "id": "BTS/USD",
                    "name": "BTS/USD",
                    "weight": 0.5
                  },
                  {
                    "id": "GNO/USD",
                    "name": "GNO/USD",
                    "weight": 0.5
                  },
                  {
                    "id": "GNT/USD",
                    "name": "GNT/USD",
                    "weight": 4.07
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 15.0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "EQ_295",
                  "name": "CBOE GLOBAL MARKETS INC",
                  "weight": 15.0
                },
                "positions_above_10pct": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "weight": 14.43
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "weight": 11.55
                  },
                  {
                    "id": "EQ_590",
                    "weight": 10.31
                  },
                  {
                    "id": "EQ_295",
                    "weight": 15.0
                  },
                  {
                    "id": "EQ_528",
                    "weight": 14.69
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 30.0,
              "observed": 25.0,
              "slack": 5.0,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 25.0,
                  "Sant√©": 14.69,
                  "Services publics": 10.31
                },
                "all_sectors": {
                  "Bonds": 44.93,
                  "Finance": 25.0,
                  "Sant√©": 14.69,
                  "Services publics": 10.31,
                  "Crypto": 5.07
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 15.0,
              "slack": 35.0,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Etats-Unis",
                "counts_in_max_region": {
                  "Etats-Unis": 15.0,
                  "Royaume-Uni": 14.69,
                  "France": 10.31,
                  "Inde": 10.0
                },
                "all_regions": {
                  "Global": 50.0,
                  "Etats-Unis": 15.0,
                  "Royaume-Uni": 14.69,
                  "France": 10.31,
                  "Inde": 10.0
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 9,
              "slack": -1,
              "binding": false,
              "status": "VIOLATED",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 9,
              "slack": 9,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 55.0,
              "observed": 10.31,
              "slack": -24.69,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 35.0,
                "range_max": 55.0,
                "slack_from_min": -24.69,
                "slack_from_max": 44.69,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 35.0,
              "observed": 44.76,
              "slack": -9.76,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 15.0,
                "range_max": 35.0,
                "slack_from_min": 29.76,
                "slack_from_max": -9.76,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 30.0,
              "observed": 44.93,
              "slack": -14.93,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 20.0,
                "range_max": 30.0,
                "slack_from_min": 24.93,
                "slack_from_max": -14.93,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 2.0,
              "observed": 0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "range_min": 0.0,
                "range_max": 2.0,
                "slack_from_min": 0.0,
                "slack_from_max": 2.0,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 0,
              "slack": 15.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 13,
            "ok": 9,
            "binding": 1,
            "violated": 3,
            "critical": 0
          },
          "quality_score": 75.4,
          "recommendations": [
            "üü† VIOLATED: volatility exceeded by 1.3% ‚Äî reduce exposure",
            "üü† VIOLATED: crypto_max exceeded by 0.1% ‚Äî reduce exposure",
            "üü° BINDING: max_single_position at 15.0% (cap=15.0%) ‚Äî monitor closely",
            "üü† VIOLATED: min_assets exceeded by 1.0% ‚Äî reduce exposure",
            "‚ÑπÔ∏è INFO: bucket_core is 24.7% outside target range (indicator only)",
            "‚ÑπÔ∏è INFO: bucket_defensive is 14.9% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 44.93,
              "Actions": 50.0,
              "Crypto": 5.07
            },
            "by_sector": {
              "Finance": 25.0,
              "Sant√©": 14.69,
              "Services publics": 10.31
            },
            "by_region": {
              "Global": 50.0,
              "Etats-Unis": 15.0,
              "Royaume-Uni": 14.69,
              "France": 10.31,
              "Inde": 10.0
            },
            "by_risk_bucket": {
              "bond_like": 44.93,
              "equity_like": 50.0,
              "crypto": 5.07
            },
            "by_role": {
              "core": 10.31,
              "satellite": 44.76,
              "defensive": 44.93,
              "lottery": 0.0,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1185.0,
              "hhi_interpretation": "diversified",
              "effective_n": 8.44,
              "n_positions": 11,
              "top_5_weight": 65.98,
              "top_10_weight": 99.5,
              "largest_position": 15.0,
              "smallest_position": 0.5,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 15.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "EQ_528",
              "ticker": "AZN",
              "name": "ASTRAZENECA PLC",
              "weight_pct": 14.69,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Sant√©",
              "region": "Royaume-Uni",
              "exchange": null
            },
            {
              "id": "JPMorgan Ultra-Short Municipal Income Fund",
              "ticker": "JMST",
              "name": "JPMorgan Ultra-Short Municipal Income Fund",
              "weight_pct": 14.43,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
              "ticker": "XHLF",
              "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
              "weight_pct": 11.55,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 10.31,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 10.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "iShares 3 Year International Treasury Bond ETF",
              "ticker": "ISHG",
              "name": "iShares 3 Year International Treasury Bond ETF",
              "weight_pct": 9.69,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "LEMB",
              "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 9.26,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "GNT/USD",
              "ticker": "GNT/USD",
              "name": "GNT/USD",
              "weight_pct": 4.07,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BTS/USD",
              "ticker": "BTS/USD",
              "name": "BTS/USD",
              "weight_pct": 0.5,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "GNO/USD",
              "ticker": "GNO/USD",
              "name": "GNO/USD",
              "weight_pct": 0.5,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 11,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 100.0,
            "missing_isin": 7,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 36.4,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 13,
          "ok": 9,
          "binding": 1,
          "violated": 3,
          "critical": 0
        },
        "constraint_quality_score": 75.4,
        "constraint_violations": [
          {
            "name": "volatility",
            "constraint_type": "target",
            "cap": 12.0,
            "observed": 7.72,
            "slack": -1.28,
            "binding": false,
            "status": "VIOLATED",
            "details": {
              "tolerance": 3.0,
              "range_min": 9.0,
              "range_max": 15.0,
              "diff_from_target": -4.28
            }
          },
          {
            "name": "crypto_max",
            "constraint_type": "max",
            "cap": 5.0,
            "observed": 5.07,
            "slack": -0.07,
            "binding": false,
            "status": "VIOLATED",
            "details": {
              "breakdown": [
                {
                  "id": "BTS/USD",
                  "name": "BTS/USD",
                  "weight": 0.5
                },
                {
                  "id": "GNO/USD",
                  "name": "GNO/USD",
                  "weight": 0.5
                },
                {
                  "id": "GNT/USD",
                  "name": "GNT/USD",
                  "weight": 4.07
                }
              ]
            }
          },
          {
            "name": "min_assets",
            "constraint_type": "min",
            "cap": 10,
            "observed": 9,
            "slack": -1,
            "binding": false,
            "status": "VIOLATED",
            "details": {}
          }
        ],
        "constraint_bindings": [
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 15.0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "EQ_295",
                "name": "CBOE GLOBAL MARKETS INC",
                "weight": 15.0
              },
              "positions_above_10pct": [
                {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "weight": 14.43
                },
                {
                  "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                  "weight": 11.55
                },
                {
                  "id": "EQ_590",
                  "weight": 10.31
                },
                {
                  "id": "EQ_295",
                  "weight": 15.0
                },
                {
                  "id": "EQ_528",
                  "weight": 14.69
                }
              ]
            }
          },
          {
            "name": "bucket_lottery",
            "constraint_type": "range",
            "cap": 2.0,
            "observed": 0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "range_min": 0.0,
              "range_max": 2.0,
              "slack_from_min": 0.0,
              "slack_from_max": 2.0,
              "outside_range": false,
              "is_indicator": true
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 44.93,
            "Actions": 50.0,
            "Crypto": 5.07
          },
          "by_sector": {
            "Finance": 25.0,
            "Sant√©": 14.69,
            "Services publics": 10.31
          },
          "by_region": {
            "Global": 50.0,
            "Etats-Unis": 15.0,
            "Royaume-Uni": 14.69,
            "France": 10.31,
            "Inde": 10.0
          },
          "by_risk_bucket": {
            "bond_like": 44.93,
            "equity_like": 50.0,
            "crypto": 5.07
          },
          "by_role": {
            "core": 10.31,
            "satellite": 44.76,
            "defensive": 44.93,
            "lottery": 0.0,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1185.0,
            "hhi_interpretation": "diversified",
            "effective_n": 8.44,
            "n_positions": 11,
            "top_5_weight": 65.98,
            "top_10_weight": 99.5,
            "largest_position": 15.0,
            "smallest_position": 0.5,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 11,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 100.0,
          "missing_isin": 7,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 36.4,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 15.0,
            "min_assets": 10,
            "vol_target": "12.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Mod√©r√©",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "EQ_295": "CBOE GLOBAL MARKETS INC, dans le secteur financier, est bien positionn√©e pour profiter des tendances de march√©, mais peut √™tre affect√©e par des changements r√©glementaires [SEC].",
        "EQ_528": "ASTRAZENECA PLC, acteur cl√© dans le secteur de la sant√©, est historiquement stable, mais fait face √† des risques li√©s √† l'innovation et √† la concurrence [SEC].",
        "JPMorgan Ultra-Short Municipal Income Fund": "Ce fonds vise √† minimiser la volatilit√© tout en offrant un rendement mod√©r√©, mais peut √™tre sensible aux variations des taux d'int√©r√™t [MC].",
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "Ce fonds offre une exposition aux obligations √† court terme, ce qui peut r√©duire le risque de taux, mais les rendements peuvent √™tre limit√©s [MC].",
        "EQ_590": "ENGIE SA, dans le secteur des services publics, offre une exposition √† des actifs √† faible volatilit√©, ce qui est pertinent dans un environnement de march√© mixte [SEC].",
        "EQ_807": "AXIS BANK LTD, acteur majeur dans le secteur bancaire indien, est expos√©e aux fluctuations √©conomiques et aux risques de cr√©dit [MC].",
        "iShares 3 Year International Treasury Bond ETF": "Ce fonds vise √† r√©duire la sensibilit√© aux taux d'int√©r√™t, mais les rendements peuvent √™tre limit√©s dans un environnement de taux bas [MC].",
        "iShares J.P. Morgan EM Local Currency Bond ETF": "Ce fonds vise √† diversifier les risques li√©s aux obligations en investissant dans des titres de cr√©ance en devise locale des march√©s √©mergents, mais peut √™tre sensible aux fluctuations des devises [MC].",
        "GNT/USD": "GNT/USD, actif crypto, est soumis √† une forte volatilit√© et √† des incertitudes r√©glementaires [TH].",
        "BTS/USD": "BTS/USD, actif crypto, pr√©sente un potentiel de rendement √©lev√©, mais est extr√™mement volatile et soumis √† des risques de march√© [TH].",
        "GNO/USD": "GNO/USD, une autre crypto-monnaie, est sensible aux fluctuations du march√© des cryptos, ce qui peut entra√Æner des pertes importantes [TH]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une approche mod√©r√©e, √©quilibrant actions et obligations pour viser un rendement stable. Toutefois, les investisseurs doivent √™tre conscients des risques li√©s aux fluctuations des taux d'int√©r√™t et √† la volatilit√© des march√©s. La pr√©sence d'actifs cryptographiques, bien que limit√©e, ajoute une dimension de risque suppl√©mentaire. Une attention particuli√®re doit √™tre port√©e √† la diversification pour att√©nuer les impacts n√©gatifs potentiels. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüü° PROFIL MOD√âR√â : Ce portefeuille pr√©sente un niveau de risque mod√©r√©. Il convient aux investisseurs acceptant une certaine volatilit√© avec un horizon moyen terme (3-5 ans).",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 474,
          "sanitized_length": 474
        },
        "timestamp": "2026-01-08T16:10:17.527558",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "rationale": "Ce fonds offre une exposition √† des obligations municipales √† court terme, ce qui permet de minimiser le risque de taux d'int√©r√™t tout en g√©n√©rant un revenu stable. Il joue un r√¥le d'income dans le portefeuille, apportant une source de rendement r√©gulier avec une volatilit√© faible.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t si les taux augmentent rapidement.",
          "market_context_link": null,
          "weight_pct": 14.4,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.14,
            "volatility": 1.17,
            "buffett_score": null
          }
        },
        {
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "rationale": "Ce fonds vise √† offrir une exposition √† des obligations du Tr√©sor am√©ricain √† dur√©e cibl√©e, ce qui permet de g√©rer le risque de taux d'int√©r√™t tout en profitant de la stabilit√© des rendements. Il sert de core dans le portefeuille pour √©quilibrer le risque global.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t et de liquidit√©.",
          "market_context_link": null,
          "weight_pct": 11.6,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": NaN,
            "volatility": 1.31,
            "buffett_score": null
          }
        },
        {
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "rationale": "Ce fonds permet d'acc√©der √† des obligations en devises locales des march√©s √©mergents, offrant un potentiel de rendement sup√©rieur malgr√© une volatilit√© plus √©lev√©e. Il est positionn√© comme un satellite pour diversifier le portefeuille avec une exposition √† des r√©gions en croissance.",
          "role": "satellite",
          "risk_note": "Risque de change et risque politique dans les march√©s √©mergents.",
          "market_context_link": null,
          "weight_pct": 9.3,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.12,
            "volatility": 7.09,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 3 Year International Treasury Bond ETF",
          "ticker": "ISHG",
          "rationale": "Ce fonds offre une exposition √† des obligations souveraines internationales, ce qui permet de diversifier les risques de taux d'int√©r√™t et de cr√©dit. Il joue un r√¥le de core dans le portefeuille, apportant une stabilit√© et une protection contre la volatilit√©.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t et de change.",
          "market_context_link": null,
          "weight_pct": 9.7,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": -0.07,
            "volatility": 7.45,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE pr√©sente un bon rendement des dividendes et un ROE solide, ce qui en fait un choix attractif dans le secteur des services publics. Son r√¥le dans le portefeuille est d'apporter un revenu stable tout en diversifiant les actifs en actions.",
          "role": "income",
          "risk_note": "Risque li√© √† la r√©glementation et √† la transition √©nerg√©tique.",
          "market_context_link": null,
          "weight_pct": 10.3,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE b√©n√©ficie d'une forte rentabilit√© avec un ROE √©lev√© et est bien positionn√© dans le secteur financier, favoris√© dans le contexte actuel. Il joue un r√¥le de core dans le portefeuille, apportant croissance et stabilit√©.",
          "role": "core",
          "risk_note": "Risque de volatilit√© des march√©s financiers et de r√©glementation.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 15.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "AXIS BANK pr√©sente un ROE attractif et une valorisation raisonnable, ce qui en fait un choix solide dans le secteur financier. Il est positionn√© comme un satellite pour diversifier l'exposition aux actions tout en profitant de la croissance en Inde.",
          "role": "satellite",
          "risk_note": "Risque de cr√©dit et volatilit√© √©conomique en Inde.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 10.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "1.66",
            "volatility": "21.54",
            "buffett_score": 80.0
          }
        },
        {
          "name": "ASTRAZENECA PLC",
          "ticker": "AZN",
          "rationale": "AstraZeneca est un leader dans le secteur de la sant√© avec un ROE √©lev√©, bien que sa performance r√©cente soit mitig√©e. Il joue un r√¥le de core dans le portefeuille, apportant une exposition √† un secteur en forte croissance.",
          "role": "core",
          "risk_note": "Risque li√© √† la recherche et d√©veloppement ainsi qu'√† la r√©glementation pharmaceutique.",
          "market_context_link": "secteur favoris√©",
          "weight_pct": 14.7,
          "category": "Actions",
          "sector": "Sant√©",
          "country": "Royaume-Uni",
          "metrics": {
            "roe": 17.23,
            "pe_ratio": 30.40716,
            "dividend_yield": 1.75,
            "ytd": "-1.52",
            "volatility": "23.43",
            "buffett_score": 80.0
          }
        },
        {
          "name": "BTS/USD",
          "ticker": "BTS/USD",
          "rationale": "BTS/USD a montr√© une performance positive cette ann√©e, offrant une exposition au march√© crypto, qui peut servir de diversification. Son r√¥le est principalement celui d'un satellite, ajoutant une composante de croissance √† haut risque.",
          "role": "satellite",
          "risk_note": "Risque √©lev√© de volatilit√© et de r√©glementation dans le secteur crypto.",
          "market_context_link": null,
          "weight_pct": 0.5,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 4.8,
            "volatility": 35.46,
            "buffett_score": null
          }
        },
        {
          "name": "GNO/USD",
          "ticker": "GNO/USD",
          "rationale": "GNO/USD a √©galement affich√© une bonne performance YTD, apportant une diversification suppl√©mentaire dans le portefeuille crypto. Il est consid√©r√© comme un satellite, augmentant le potentiel de rendement tout en acceptant un risque plus √©lev√©.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© extr√™me et de liquidit√©.",
          "market_context_link": null,
          "weight_pct": 0.5,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 5.28,
            "volatility": 41.25,
            "buffett_score": null
          }
        },
        {
          "name": "GNT/USD",
          "ticker": "GNT/USD",
          "rationale": "GNT/USD a connu une performance exceptionnelle cette ann√©e, ce qui en fait un ajout int√©ressant pour la composante crypto du portefeuille. Son r√¥le est celui d'un satellite, visant √† maximiser les rendements malgr√© un risque √©lev√©.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© et de r√©glementation dans le march√© crypto.",
          "market_context_link": null,
          "weight_pct": 4.1,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 20.17,
            "volatility": 59.68,
            "buffett_score": null
          }
        }
      ]
    },
    "Stable": {
      "allocation": {
        "JPMorgan Ultra-Short Municipal Income Fund": 15.0,
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": 15.0,
        "iShares 0-3 Month Treasury Bond ETF": 15.0,
        "iShares Short Treasury Bond ETF": 15.0,
        "US Treasury 3 Month Bill ETF": 9.59,
        "EQ_590": 13.8,
        "EQ_807": 8.0,
        "EQ_295": 8.61
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_heuristic",
        "fallback_reason": "Stable profile: strict constraints (vol 6%¬±3%, bonds_min 35%, DEFENSIVE 45-60%) mathematically incompatible with Markowitz optimization",
        "fallback_heuristic": true,
        "heuristic_name": "stable_rules_v1",
        "heuristic_version": "1.0.0",
        "rules_applied": [
          "bonds_min_35pct",
          "defensive_bucket_45_60pct",
          "vol_target_6pct_tolerance_3pct",
          "max_single_position_15pct",
          "max_single_bond_25pct",
          "min_assets_10",
          "max_assets_18",
          "low_vol_assets_preferred"
        ],
        "rules_parameters": {
          "bonds_min": 35.0,
          "vol_target": 6.0,
          "vol_tolerance": 3.0,
          "max_single_position": 15.0,
          "max_single_bond": 25.0,
          "min_assets": 10,
          "max_assets": 18,
          "defensive_min": 45.0,
          "defensive_max": 60.0
        },
        "why_not_slsqp": "vol_target_incompatible_with_markowitz",
        "why_not_slsqp_details": "Le profil Stable requiert vol_target=6% ¬± 3% et >35% obligations. Ces contraintes sont math√©matiquement incompatibles avec l'optimisation Markowitz mean-variance. L'univers d'actifs disponibles ne permet pas d'atteindre une volatilit√© si basse avec diversification suffisante. Fallback vers allocation heuristique (r√®gles pr√©d√©finies).",
        "message": "Fallback heuristique (contraintes strictes)",
        "portfolio_vol": 4.11,
        "vol_target": 6.0,
        "vol_tolerance": 3.0,
        "vol_diff": -1.89,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 15.0,
        "turnover_penalty_lambda": 0.2,
        "portfolio_score": 0.633,
        "n_assets": 8,
        "n_bonds": 5,
        "n_crypto": 0,
        "crypto_max_allowed": 0.0,
        "sectors": {
          "Bonds": 69.59,
          "Services publics": 13.8,
          "Finance": 16.61
        },
        "bucket_exposure": {
          "defensive": 69.59,
          "core": 13.8,
          "satellite": 16.61
        },
        "bucket_compliance": {
          "core": {
            "actual": 13.8,
            "target_min": 30.0,
            "target_max": 40.0,
            "in_range": false
          },
          "satellite": {
            "actual": 16.6,
            "target_min": 5.0,
            "target_max": 15.0,
            "in_range": true
          },
          "defensive": {
            "actual": 69.6,
            "target_min": 45.0,
            "target_max": 60.0,
            "in_range": false
          },
          "lottery": {
            "actual": 0.0,
            "target_min": 0.0,
            "target_max": 0.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 9526.12,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 0,
          "eigen_clipped_pct": 0.0,
          "eigenvalue_min": 9.90377713194459e-05,
          "eigenvalue_max": 0.9434458452574469,
          "eigenvalue_min_raw": 9.90377713194459e-05,
          "matrix_size": 58,
          "is_well_conditioned": true,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Stable",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 6.0,
              "observed": 4.11,
              "slack": 1.11,
              "binding": false,
              "status": "OK",
              "details": {
                "tolerance": 3.0,
                "range_min": 3.0,
                "range_max": 9.0,
                "diff_from_target": -1.89
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 35.0,
              "observed": 69.59,
              "slack": 34.59,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 5,
                "breakdown": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "name": "JPMorgan Ultra-Short Municipal",
                    "weight": 15.0
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "name": "BondBloxx Bloomberg Six Month ",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares 0-3 Month Treasury Bond ETF",
                    "name": "iShares 0-3 Month Treasury Bon",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares Short Treasury Bond ETF",
                    "name": "iShares Short Treasury Bond ET",
                    "weight": 15.0
                  },
                  {
                    "id": "US Treasury 3 Month Bill ETF",
                    "name": "US Treasury 3 Month Bill ETF",
                    "weight": 9.59
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 15.0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "name": "JPMorgan Ultra-Short Municipal Income Fu",
                  "weight": 15.0
                },
                "positions_above_10pct": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "weight": 15.0
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares 0-3 Month Treasury Bond ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares Short Treasury Bond ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "EQ_590",
                    "weight": 13.8
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 30.0,
              "observed": 16.61,
              "slack": 13.39,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 16.61,
                  "Services publics": 13.8
                },
                "all_sectors": {
                  "Bonds": 69.59,
                  "Finance": 16.61,
                  "Services publics": 13.8
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 13.8,
              "slack": 36.2,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "France",
                "counts_in_max_region": {
                  "France": 13.8,
                  "Etats-Unis": 8.61,
                  "Inde": 8.0
                },
                "all_regions": {
                  "Global": 69.59,
                  "France": 13.8,
                  "Etats-Unis": 8.61,
                  "Inde": 8.0
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 8,
              "slack": -2,
              "binding": false,
              "status": "VIOLATED",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 8,
              "slack": 10,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 40.0,
              "observed": 13.8,
              "slack": -16.2,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 30.0,
                "range_max": 40.0,
                "slack_from_min": -16.2,
                "slack_from_max": 26.2,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 15.0,
              "observed": 16.61,
              "slack": -1.61,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 5.0,
                "range_max": 15.0,
                "slack_from_min": 11.61,
                "slack_from_max": -1.61,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 60.0,
              "observed": 69.59,
              "slack": -9.59,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 45.0,
                "range_max": 60.0,
                "slack_from_min": 24.59,
                "slack_from_max": -9.59,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 0.0,
              "observed": 0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "range_min": 0.0,
                "range_max": 0.0,
                "slack_from_min": 0.0,
                "slack_from_max": 0.0,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 0,
              "slack": 5.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 12,
            "ok": 10,
            "binding": 1,
            "violated": 1,
            "critical": 0
          },
          "quality_score": 90.0,
          "recommendations": [
            "üü° BINDING: max_single_position at 15.0% (cap=15.0%) ‚Äî monitor closely",
            "üü† VIOLATED: min_assets exceeded by 2.0% ‚Äî reduce exposure",
            "‚ÑπÔ∏è INFO: bucket_core is 16.2% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 69.59,
              "Actions": 30.41
            },
            "by_sector": {
              "Finance": 16.61,
              "Services publics": 13.8
            },
            "by_region": {
              "Global": 69.59,
              "France": 13.8,
              "Etats-Unis": 8.61,
              "Inde": 8.0
            },
            "by_risk_bucket": {
              "bond_like": 69.59,
              "equity_like": 30.41
            },
            "by_role": {
              "core": 13.8,
              "satellite": 16.61,
              "defensive": 69.59,
              "lottery": 0.0,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1321.0,
              "hhi_interpretation": "diversified",
              "effective_n": 7.57,
              "n_positions": 8,
              "top_5_weight": 73.8,
              "top_10_weight": 100.0,
              "largest_position": 15.0,
              "smallest_position": 8.0,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "JPMorgan Ultra-Short Municipal Income Fund",
              "ticker": "JMST",
              "name": "JPMorgan Ultra-Short Municipal Income Fund",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
              "ticker": "XHLF",
              "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares 0-3 Month Treasury Bond ETF",
              "ticker": "SGOV",
              "name": "iShares 0-3 Month Treasury Bond ETF",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares Short Treasury Bond ETF",
              "ticker": "SHV",
              "name": "iShares Short Treasury Bond ETF",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 13.8,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "US Treasury 3 Month Bill ETF",
              "ticker": "TBIL",
              "name": "US Treasury 3 Month Bill ETF",
              "weight_pct": 9.59,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 8.61,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 8.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 8,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 100.0,
            "missing_isin": 3,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 62.5,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 12,
          "ok": 10,
          "binding": 1,
          "violated": 1,
          "critical": 0
        },
        "constraint_quality_score": 90.0,
        "constraint_violations": [
          {
            "name": "min_assets",
            "constraint_type": "min",
            "cap": 10,
            "observed": 8,
            "slack": -2,
            "binding": false,
            "status": "VIOLATED",
            "details": {}
          }
        ],
        "constraint_bindings": [
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 15.0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "JPMorgan Ultra-Short Municipal Income Fund",
                "name": "JPMorgan Ultra-Short Municipal Income Fu",
                "weight": 15.0
              },
              "positions_above_10pct": [
                {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "weight": 15.0
                },
                {
                  "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                  "weight": 15.0
                },
                {
                  "id": "iShares 0-3 Month Treasury Bond ETF",
                  "weight": 15.0
                },
                {
                  "id": "iShares Short Treasury Bond ETF",
                  "weight": 15.0
                },
                {
                  "id": "EQ_590",
                  "weight": 13.8
                }
              ]
            }
          },
          {
            "name": "bucket_lottery",
            "constraint_type": "range",
            "cap": 0.0,
            "observed": 0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "range_min": 0.0,
              "range_max": 0.0,
              "slack_from_min": 0.0,
              "slack_from_max": 0.0,
              "outside_range": false,
              "is_indicator": true
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 69.59,
            "Actions": 30.41
          },
          "by_sector": {
            "Finance": 16.61,
            "Services publics": 13.8
          },
          "by_region": {
            "Global": 69.59,
            "France": 13.8,
            "Etats-Unis": 8.61,
            "Inde": 8.0
          },
          "by_risk_bucket": {
            "bond_like": 69.59,
            "equity_like": 30.41
          },
          "by_role": {
            "core": 13.8,
            "satellite": 16.61,
            "defensive": 69.59,
            "lottery": 0.0,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1321.0,
            "hhi_interpretation": "diversified",
            "effective_n": 7.57,
            "n_positions": 8,
            "top_5_weight": 73.8,
            "top_10_weight": 100.0,
            "largest_position": 15.0,
            "smallest_position": 8.0,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 8,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 100.0,
          "missing_isin": 3,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 62.5,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 35.0,
            "min_assets": 10,
            "vol_target": "6.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Stable",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "JPMorgan Ultra-Short Municipal Income Fund": "Ce fonds vise √† minimiser la volatilit√© tout en offrant un rendement mod√©r√©, mais peut √™tre sensible aux variations des taux d'int√©r√™t [MC].",
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "Ce fonds offre une exposition aux obligations √† court terme, ce qui peut r√©duire le risque de taux, mais les rendements peuvent √™tre limit√©s [MC].",
        "iShares 0-3 Month Treasury Bond ETF": "Ce fonds vise √† offrir une protection contre la volatilit√© des taux d'int√©r√™t, mais les rendements peuvent √™tre faibles dans un environnement de taux bas [MC].",
        "iShares Short Treasury Bond ETF": "Ce fonds vise √† r√©duire la sensibilit√© aux taux d'int√©r√™t, mais les rendements peuvent √™tre limit√©s dans un environnement de taux bas [MC].",
        "EQ_590": "ENGIE SA, dans le secteur des services publics, offre une exposition √† des actifs √† faible volatilit√©, ce qui est pertinent dans un environnement de march√© mixte [SEC].",
        "US Treasury 3 Month Bill ETF": "Ce fonds vise √† offrir une protection contre la volatilit√© des taux d'int√©r√™t, mais les rendements peuvent √™tre faibles dans un environnement de taux bas [MC].",
        "EQ_295": "CBOE GLOBAL MARKETS INC, dans le secteur financier, est bien positionn√©e pour profiter des tendances de march√©, mais peut √™tre affect√©e par des changements r√©glementaires [SEC].",
        "EQ_807": "AXIS BANK LTD, acteur majeur dans le secteur bancaire indien, est expos√©e aux fluctuations √©conomiques et aux risques de cr√©dit [MC]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une strat√©gie d'investissement stable, ax√©e sur des obligations √† court terme et des actions √† faible volatilit√©. Bien qu'il vise √† r√©duire les risques, il est important de reconna√Ætre que les rendements peuvent √™tre limit√©s dans un environnement de taux bas. De plus, la concentration sur des actifs d√©fensifs peut ne pas offrir une croissance significative en p√©riode de reprise √©conomique. Les investisseurs doivent √™tre attentifs aux risques de taux d'int√©r√™t et √† la performance des actions dans ce contexte. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüü¢ PROFIL STABLE : Ce portefeuille vise une volatilit√© r√©duite. Il convient aux investisseurs prudents avec un horizon court √† moyen terme.",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 545,
          "sanitized_length": 545
        },
        "timestamp": "2026-01-08T16:10:17.528125",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "rationale": "Ce fonds offre une faible volatilit√© et des rendements stables, ce qui est id√©al pour un investisseur cherchant √† pr√©server son capital. Son r√¥le principal est de fournir des revenus r√©guliers tout en minimisant le risque de perte en capital.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t si les taux augmentent rapidement.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.14,
            "volatility": 1.17,
            "buffett_score": null
          }
        },
        {
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "rationale": "Ce fonds est con√ßu pour offrir une exposition aux obligations du Tr√©sor am√©ricain √† court terme, ce qui est appropri√© dans un environnement de taux d'int√©r√™t incertain. Il joue un r√¥le cl√© dans la pr√©servation du capital et la g√©n√©ration de revenus.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t et de liquidit√©.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": NaN,
            "volatility": 1.31,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 0-3 Month Treasury Bond ETF",
          "ticker": "SGOV",
          "rationale": "Ce fonds permet d'acc√©der √† des obligations √† tr√®s court terme, offrant ainsi une s√©curit√© et une liquidit√© √©lev√©es. Il contribue √† la stabilit√© du portefeuille tout en g√©n√©rant des revenus mod√©r√©s.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t en cas de hausse des taux.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.03,
            "volatility": 1.32,
            "buffett_score": null
          }
        },
        {
          "name": "iShares Short Treasury Bond ETF",
          "ticker": "SHV",
          "rationale": "Ce fonds investit dans des obligations du Tr√©sor √† court terme, offrant une protection contre la volatilit√© du march√© et un rendement stable. Il est essentiel pour maintenir la pr√©servation du capital dans le portefeuille.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t si les taux augmentent.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.04,
            "volatility": 1.43,
            "buffett_score": null
          }
        },
        {
          "name": "US Treasury 3 Month Bill ETF",
          "ticker": "TBIL",
          "rationale": "Ce fonds offre une exposition aux bons du Tr√©sor √† court terme, garantissant une s√©curit√© du capital et des rendements pr√©visibles. Il est crucial pour le profil d'investisseur stable recherchant des revenus r√©guliers.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t en cas de hausse des taux.",
          "market_context_link": null,
          "weight_pct": 9.6,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.02,
            "volatility": 1.33,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE pr√©sente un bon rendement en dividende et un ROE solide, ce qui en fait un choix attractif dans le secteur des services publics. Son r√¥le dans le portefeuille est de fournir des revenus stables tout en diversifiant les actifs.",
          "role": "diversification",
          "risk_note": "Risque li√© √† la r√©glementation et aux fluctuations des prix de l'√©nergie.",
          "market_context_link": null,
          "weight_pct": 13.8,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "AXIS BANK offre un ROE comp√©titif et une performance stable, ce qui en fait un bon choix dans le secteur financier. Son r√¥le est de renforcer l'exposition aux actions tout en g√©n√©rant des revenus mod√©r√©s.",
          "role": "satellite",
          "risk_note": "Risque de cr√©dit et volatilit√© du march√© indien.",
          "market_context_link": "Secteur favoris√©: finance",
          "weight_pct": 8.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "1.66",
            "volatility": "21.54",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE pr√©sente un ROE √©lev√© et une position solide sur le march√© des options, ce qui en fait un actif attrayant dans le secteur financier. Il contribue √† la diversification et √† la croissance du portefeuille.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© des march√©s financiers.",
          "market_context_link": "Secteur favoris√©: finance",
          "weight_pct": 8.6,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        }
      ]
    }
  }
}