{
  "version": "v4.8.7",
  "timestamp": "20260109_081642",
  "date": "2026-01-09T08:16:42.800440",
  "buffett_config": {
    "mode": "soft",
    "min_score": 40
  },
  "tactical_config": {
    "enabled": true,
    "data_dir": "data"
  },
  "backtest_config": {
    "days": 90,
    "freq": "M",
    "platform_fee_annual_bp": 0.0,
    "ter_handling": "embedded_in_etf_prices"
  },
  "portfolios": {
    "Agressif": {
      "allocation": {
        "iShares J.P. Morgan EM Local Currency Bond ETF": 13.55,
        "iShares 3 Year International Treasury Bond ETF": 5.47,
        "VanEck J.P. Morgan EM Local Currency Bond ETF": 5.47,
        "SPDR Bloomberg International Corporate Bond ETF": 13.38,
        "EQ_590": 14.81,
        "EQ_892": 11.85,
        "EQ_807": 3.15,
        "EQ_295": 13.85,
        "EQ_528": 13.11,
        "GNO/USD": 2.01,
        "BTS/USD": 2.01,
        "BCH/USD": 1.34
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_slsqp_failed",
        "fallback_reason": "Positive directional derivative for linesearch",
        "fallback_heuristic": false,
        "heuristic_name": null,
        "heuristic_version": null,
        "rules_applied": null,
        "rules_parameters": null,
        "why_not_slsqp": null,
        "why_not_slsqp_details": null,
        "message": "Fallback: Positive directional derivative for linesearch",
        "portfolio_vol": 11.23,
        "vol_target": 18.0,
        "vol_tolerance": 3.0,
        "vol_diff": -6.77,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 30.0,
        "turnover_penalty_lambda": 0.05,
        "portfolio_score": 1.179,
        "n_assets": 12,
        "n_bonds": 4,
        "n_crypto": 3,
        "crypto_max_allowed": 10.0,
        "sectors": {
          "Bonds": 37.87,
          "Services publics": 14.81,
          "Industries": 11.85,
          "Finance": 17.0,
          "Sant√©": 13.11,
          "Crypto": 5.359999999999999
        },
        "bucket_exposure": {
          "defensive": 37.87,
          "core": 14.81,
          "satellite": 45.98,
          "lottery": 1.34
        },
        "bucket_compliance": {
          "core": {
            "actual": 14.8,
            "target_min": 30.0,
            "target_max": 45.0,
            "in_range": false
          },
          "satellite": {
            "actual": 46.0,
            "target_min": 35.0,
            "target_max": 60.0,
            "in_range": true
          },
          "defensive": {
            "actual": 37.9,
            "target_min": 5.0,
            "target_max": 15.0,
            "in_range": false
          },
          "lottery": {
            "actual": 1.3,
            "target_min": 0.0,
            "target_max": 5.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 2861.95,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 0,
          "eigen_clipped_pct": 0.0,
          "eigenvalue_min": 0.000866614535432986,
          "eigenvalue_max": 2.4802102518907483,
          "eigenvalue_min_raw": 0.000866614535432986,
          "matrix_size": 54,
          "is_well_conditioned": true,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Agressif",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 18.0,
              "observed": 11.23,
              "slack": -3.77,
              "binding": false,
              "status": "VIOLATED",
              "details": {
                "tolerance": 3.0,
                "range_min": 15.0,
                "range_max": 21.0,
                "diff_from_target": -6.77
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 5.0,
              "observed": 37.87,
              "slack": 32.87,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 4,
                "breakdown": [
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "name": "iShares J.P. Morgan EM Local C",
                    "weight": 13.55
                  },
                  {
                    "id": "iShares 3 Year International Treasury Bond ETF",
                    "name": "iShares 3 Year International T",
                    "weight": 5.47
                  },
                  {
                    "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
                    "name": "VanEck J.P. Morgan EM Local Cu",
                    "weight": 5.47
                  },
                  {
                    "id": "SPDR Bloomberg International Corporate Bond ETF",
                    "name": "SPDR Bloomberg International C",
                    "weight": 13.38
                  }
                ]
              }
            },
            {
              "name": "crypto_max",
              "constraint_type": "max",
              "cap": 10.0,
              "observed": 5.36,
              "slack": 4.64,
              "binding": false,
              "status": "OK",
              "details": {
                "breakdown": [
                  {
                    "id": "GNO/USD",
                    "name": "GNO/USD",
                    "weight": 2.01
                  },
                  {
                    "id": "BTS/USD",
                    "name": "BTS/USD",
                    "weight": 2.01
                  },
                  {
                    "id": "BCH/USD",
                    "name": "BCH/USD",
                    "weight": 1.34
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 14.81,
              "slack": 0.19,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "EQ_590",
                  "name": "ENGIE SA",
                  "weight": 14.81
                },
                "positions_above_10pct": [
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "weight": 13.55
                  },
                  {
                    "id": "SPDR Bloomberg International Corporate Bond ETF",
                    "weight": 13.38
                  },
                  {
                    "id": "EQ_590",
                    "weight": 14.81
                  },
                  {
                    "id": "EQ_892",
                    "weight": 11.85
                  },
                  {
                    "id": "EQ_295",
                    "weight": 13.85
                  },
                  {
                    "id": "EQ_528",
                    "weight": 13.11
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 35.0,
              "observed": 17.0,
              "slack": 18.0,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 17.0,
                  "Services publics": 14.81,
                  "Sant√©": 13.11,
                  "Industries": 11.85
                },
                "all_sectors": {
                  "Bonds": 37.87,
                  "Finance": 17.0,
                  "Services publics": 14.81,
                  "Sant√©": 13.11,
                  "Industries": 11.85,
                  "Crypto": 5.36
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 15.0,
              "slack": 35.0,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Inde",
                "counts_in_max_region": {
                  "Inde": 15.0,
                  "France": 14.81,
                  "Etats-Unis": 13.85,
                  "Royaume-Uni": 13.11
                },
                "all_regions": {
                  "Global": 43.23,
                  "Inde": 15.0,
                  "France": 14.81,
                  "Etats-Unis": 13.85,
                  "Royaume-Uni": 13.11
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 12,
              "slack": 2,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 12,
              "slack": 6,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 45.0,
              "observed": 14.81,
              "slack": -15.19,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 30.0,
                "range_max": 45.0,
                "slack_from_min": -15.19,
                "slack_from_max": 30.19,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 60.0,
              "observed": 45.98,
              "slack": 10.98,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 35.0,
                "range_max": 60.0,
                "slack_from_min": 10.98,
                "slack_from_max": 14.02,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 15.0,
              "observed": 37.87,
              "slack": -22.87,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 5.0,
                "range_max": 15.0,
                "slack_from_min": 32.87,
                "slack_from_max": -22.87,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 5.0,
              "observed": 1.34,
              "slack": 1.34,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 0.0,
                "range_max": 5.0,
                "slack_from_min": 1.34,
                "slack_from_max": 3.66,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "leveraged_cap",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 0,
              "slack": 5.0,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 20.0,
              "observed": 0,
              "slack": 20.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 14,
            "ok": 12,
            "binding": 1,
            "violated": 1,
            "critical": 0
          },
          "quality_score": 91.4,
          "recommendations": [
            "üü† VIOLATED: volatility exceeded by 3.8% ‚Äî reduce exposure",
            "üü° BINDING: max_single_position at 14.8% (cap=15.0%) ‚Äî monitor closely",
            "‚ÑπÔ∏è INFO: bucket_core is 15.2% outside target range (indicator only)",
            "‚ÑπÔ∏è INFO: bucket_defensive is 22.9% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 37.87,
              "Actions": 56.77,
              "Crypto": 5.36
            },
            "by_sector": {
              "Finance": 17.0,
              "Services publics": 14.81,
              "Sant√©": 13.11,
              "Industries": 11.85
            },
            "by_region": {
              "Global": 43.23,
              "Inde": 15.0,
              "France": 14.81,
              "Etats-Unis": 13.85,
              "Royaume-Uni": 13.11
            },
            "by_risk_bucket": {
              "bond_like": 37.87,
              "equity_like": 56.77,
              "crypto": 5.36
            },
            "by_role": {
              "core": 14.81,
              "satellite": 45.98,
              "defensive": 37.87,
              "lottery": 1.34,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1166.0,
              "hhi_interpretation": "diversified",
              "effective_n": 8.58,
              "n_positions": 12,
              "top_5_weight": 68.7,
              "top_10_weight": 96.65,
              "largest_position": 14.81,
              "smallest_position": 1.34,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 14.81,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 13.85,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "LEMB",
              "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 13.55,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "SPDR Bloomberg International Corporate Bond ETF",
              "ticker": "IBND",
              "name": "SPDR Bloomberg International Corporate Bond ETF",
              "weight_pct": 13.38,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_528",
              "ticker": "AZN",
              "name": "ASTRAZENECA PLC",
              "weight_pct": 13.11,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Sant√©",
              "region": "Royaume-Uni",
              "exchange": null
            },
            {
              "id": "EQ_892",
              "ticker": "CUMMINSIND",
              "name": "CUMMINS INDIA LTD",
              "weight_pct": 11.85,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Industries",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "iShares 3 Year International Treasury Bond ETF",
              "ticker": "ISHG",
              "name": "iShares 3 Year International Treasury Bond ETF",
              "weight_pct": 5.47,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "VanEck J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "EMLC",
              "name": "VanEck J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 5.47,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 3.15,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "GNO/USD",
              "ticker": "GNO/USD",
              "name": "GNO/USD",
              "weight_pct": 2.01,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BTS/USD",
              "ticker": "BTS/USD",
              "name": "BTS/USD",
              "weight_pct": 2.01,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BCH/USD",
              "ticker": "BCH/USD",
              "name": "BCH/USD",
              "weight_pct": 1.34,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 12,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 100.0,
            "missing_isin": 8,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 33.3,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 14,
          "ok": 12,
          "binding": 1,
          "violated": 1,
          "critical": 0
        },
        "constraint_quality_score": 91.4,
        "constraint_violations": [
          {
            "name": "volatility",
            "constraint_type": "target",
            "cap": 18.0,
            "observed": 11.23,
            "slack": -3.77,
            "binding": false,
            "status": "VIOLATED",
            "details": {
              "tolerance": 3.0,
              "range_min": 15.0,
              "range_max": 21.0,
              "diff_from_target": -6.77
            }
          }
        ],
        "constraint_bindings": [
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 14.81,
            "slack": 0.19,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "EQ_590",
                "name": "ENGIE SA",
                "weight": 14.81
              },
              "positions_above_10pct": [
                {
                  "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                  "weight": 13.55
                },
                {
                  "id": "SPDR Bloomberg International Corporate Bond ETF",
                  "weight": 13.38
                },
                {
                  "id": "EQ_590",
                  "weight": 14.81
                },
                {
                  "id": "EQ_892",
                  "weight": 11.85
                },
                {
                  "id": "EQ_295",
                  "weight": 13.85
                },
                {
                  "id": "EQ_528",
                  "weight": 13.11
                }
              ]
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 37.87,
            "Actions": 56.77,
            "Crypto": 5.36
          },
          "by_sector": {
            "Finance": 17.0,
            "Services publics": 14.81,
            "Sant√©": 13.11,
            "Industries": 11.85
          },
          "by_region": {
            "Global": 43.23,
            "Inde": 15.0,
            "France": 14.81,
            "Etats-Unis": 13.85,
            "Royaume-Uni": 13.11
          },
          "by_risk_bucket": {
            "bond_like": 37.87,
            "equity_like": 56.77,
            "crypto": 5.36
          },
          "by_role": {
            "core": 14.81,
            "satellite": 45.98,
            "defensive": 37.87,
            "lottery": 1.34,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1166.0,
            "hhi_interpretation": "diversified",
            "effective_n": 8.58,
            "n_positions": 12,
            "top_5_weight": 68.7,
            "top_10_weight": 96.65,
            "largest_position": 14.81,
            "smallest_position": 1.34,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 12,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 100.0,
          "missing_isin": 8,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 33.3,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 5.0,
            "min_assets": 10,
            "vol_target": "18.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Agressif",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "EQ_590": "ENGIE SA est bien positionn√©e dans le secteur des services publics, b√©n√©ficiant d'une demande stable malgr√© les fluctuations √©conomiques [SEC].",
        "EQ_295": "CBOE GLOBAL MARKETS INC, acteur cl√© dans le domaine financier, peut tirer parti de la volatilit√© du march√© pour g√©n√©rer des revenus [MC].",
        "iShares J.P. Morgan EM Local Currency Bond ETF": "Cet ETF offre une exposition aux obligations en devises locales des march√©s √©mergents, ce qui peut √™tre b√©n√©fique dans un environnement de taux d'int√©r√™t croissants [TH].",
        "SPDR Bloomberg International Corporate Bond ETF": "Ce fonds permet d'acc√©der √† des obligations d'entreprises internationales, offrant un potentiel de rendement int√©ressant [TH].",
        "EQ_528": "ASTRAZENECA PLC, dans le secteur de la sant√©, est soutenue par des innovations continues et une demande stable [SEC].",
        "EQ_892": "CUMMINS INDIA LTD, acteur majeur dans l'industrie, est bien positionn√©e pour profiter de la croissance en Inde [MC].",
        "iShares 3 Year International Treasury Bond ETF": "Cet ETF offre une exposition √† des obligations d'√âtat √† court terme, ce qui peut r√©duire la volatilit√© globale [TH].",
        "VanEck J.P. Morgan EM Local Currency Bond ETF": "Cet ETF cible les obligations en devises locales des march√©s √©mergents, offrant un potentiel de diversification [TH].",
        "EQ_807": "AXIS BANK LTD, acteur cl√© dans le secteur financier indien, peut b√©n√©ficier de la croissance √©conomique [MC].",
        "GNO/USD": "GNO/USD, en tant qu'actif crypto, pr√©sente un potentiel de rendement √©lev√© mais avec une volatilit√© significative [TH].",
        "BTS/USD": "BTS/USD, un actif crypto, peut offrir des opportunit√©s de croissance, mais est soumis √† des fluctuations importantes [TH].",
        "BCH/USD": "BCH/USD, un autre actif crypto, pr√©sente des risques √©lev√©s en raison de la volatilit√© du march√© [TH]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une strat√©gie d'investissement agressive, avec une forte exposition aux actions et aux obligations des march√©s √©mergents. Bien qu'il vise √† g√©n√©rer des rendements √©lev√©s, il est important de noter que la volatilit√© peut √™tre significative, ce qui expose les investisseurs √† des fluctuations de valeur. De plus, l'inclusion d'actifs cryptographiques augmente le risque global, car ces actifs sont souvent sujets √† des mouvements de prix extr√™mes. Les investisseurs doivent donc √™tre conscients des risques associ√©s √† ce portefeuille. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüî¥ PROFIL AGRESSIF : Ce portefeuille pr√©sente un niveau de risque √©lev√©. Il est destin√© aux investisseurs ayant une tol√©rance au risque importante et un horizon d'investissement long terme (>5 ans).",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 564,
          "sanitized_length": 564
        },
        "timestamp": "2026-01-09T08:15:38.700595",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "rationale": "Cet actif a √©t√© s√©lectionn√© pour son exposition aux obligations en devises locales des march√©s √©mergents, offrant un potentiel de rendement int√©ressant dans un contexte de taux d'int√©r√™t bas. Il joue un r√¥le de diversification dans le portefeuille, permettant d'att√©nuer la volatilit√© des actions.",
          "role": "diversification",
          "risk_note": "Risque de change et de cr√©dit dans les march√©s √©mergents.",
          "market_context_link": null,
          "weight_pct": 13.6,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.12,
            "volatility": 7.09,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 3 Year International Treasury Bond ETF",
          "ticker": "ISHG",
          "rationale": "Ce fonds offre une exposition aux obligations souveraines internationales, ce qui peut servir de refuge en p√©riode d'incertitude. Son r√¥le est principalement de stabiliser le portefeuille face √† la volatilit√© des actions.",
          "role": "hedge",
          "risk_note": "Risque de taux d'int√©r√™t qui pourrait affecter la performance.",
          "market_context_link": null,
          "weight_pct": 5.5,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": -0.07,
            "volatility": 7.45,
            "buffett_score": null
          }
        },
        {
          "name": "VanEck J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "EMLC",
          "rationale": "S√©lectionn√© pour sa capacit√© √† capter le rendement des obligations en devises locales des march√©s √©mergents, cet actif offre un potentiel de croissance int√©ressant. Il contribue √† la diversification du portefeuille.",
          "role": "diversification",
          "risk_note": "Risque de volatilit√© des devises et de d√©faut des √©metteurs.",
          "market_context_link": null,
          "weight_pct": 5.5,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.19,
            "volatility": 7.75,
            "buffett_score": null
          }
        },
        {
          "name": "SPDR Bloomberg International Corporate Bond ETF",
          "ticker": "IBND",
          "rationale": "Ce fonds investit dans des obligations d'entreprises internationales, offrant un rendement attractif et une qualit√© de cr√©dit g√©n√©ralement √©lev√©e. Il sert de composant stable dans le portefeuille, √©quilibrant les actifs plus volatils.",
          "role": "core",
          "risk_note": "Risque de cr√©dit li√© aux entreprises sous-jacentes.",
          "market_context_link": null,
          "weight_pct": 13.4,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.19,
            "volatility": 8.6,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE a √©t√© s√©lectionn√© pour son rendement dividende attractif et sa solidit√© financi√®re, avec un ROE de 12%. Il joue un r√¥le cl√© dans le portefeuille en tant qu'actif g√©n√©rateur de revenus.",
          "role": "income",
          "risk_note": "Risque li√© aux fluctuations des prix de l'√©nergie et √† la r√©glementation.",
          "market_context_link": null,
          "weight_pct": 14.8,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CUMMINS INDIA LTD",
          "ticker": "CUMMINSIND",
          "rationale": "Avec un ROE √©lev√© de 26.45%, Cummins India repr√©sente une opportunit√© de croissance dans le secteur industriel. Son inclusion vise √† capitaliser sur la dynamique de ce secteur favoris√©.",
          "role": "core",
          "risk_note": "Risque de volatilit√© li√© aux cycles √©conomiques et √† la demande industrielle.",
          "market_context_link": "secteur favoris√©: industrials",
          "weight_pct": 11.8,
          "category": "Actions",
          "sector": "Industries",
          "country": "Inde",
          "metrics": {
            "roe": 26.45,
            "pe_ratio": 49.717125,
            "dividend_yield": 1.25,
            "ytd": "-7.89",
            "volatility": "29.62",
            "buffett_score": 75.3
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "S√©lectionn√©e pour son ROE de 15.01% et sa valorisation attractive, Axis Bank est bien positionn√©e pour b√©n√©ficier de la croissance du secteur financier. Elle contribue √† la diversification du portefeuille.",
          "role": "satellite",
          "risk_note": "Risque de cr√©dit et de r√©glementation dans le secteur bancaire.",
          "market_context_link": "secteur favoris√©: financials",
          "weight_pct": 3.1,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "0.97",
            "volatility": "21.53",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE a √©t√© choisi pour sa solide performance et son ROE de 17.87%, repr√©sentant une opportunit√© dans le secteur financier. Il joue un r√¥le de croissance dans le portefeuille.",
          "role": "core",
          "risk_note": "Risque li√© √† la volatilit√© des march√©s financiers.",
          "market_context_link": "secteur favoris√©: financials",
          "weight_pct": 13.8,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        },
        {
          "name": "ASTRAZENECA PLC",
          "ticker": "AZN",
          "rationale": "AstraZeneca est un leader dans le secteur de la sant√© avec un ROE de 17.23%, offrant un potentiel de croissance √† long terme. Elle est essentielle dans le portefeuille pour capter la dynamique positive du secteur sant√©.",
          "role": "core",
          "risk_note": "Risque de r√©glementation et de concurrence dans le secteur pharmaceutique.",
          "market_context_link": "secteur favoris√©: healthcare",
          "weight_pct": 13.1,
          "category": "Actions",
          "sector": "Sant√©",
          "country": "Royaume-Uni",
          "metrics": {
            "roe": 17.23,
            "pe_ratio": 30.40716,
            "dividend_yield": 1.75,
            "ytd": "-1.52",
            "volatility": "23.43",
            "buffett_score": 80.0
          }
        },
        {
          "name": "GNO/USD",
          "ticker": "GNO/USD",
          "rationale": "GNO a √©t√© s√©lectionn√© pour son potentiel de croissance dans le secteur crypto, affichant une performance YTD de 5.49%. Il sert de satellite pour diversifier le portefeuille avec des actifs √† haut risque.",
          "role": "satellite",
          "risk_note": "Risque √©lev√© de volatilit√© et de r√©glementation dans le secteur des cryptomonnaies.",
          "market_context_link": null,
          "weight_pct": 2.0,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 5.49,
            "volatility": 41.32,
            "buffett_score": null
          }
        },
        {
          "name": "BTS/USD",
          "ticker": "BTS/USD",
          "rationale": "BTS a √©t√© choisi pour sa performance solide de 7.48% YTD, repr√©sentant une opportunit√© d'investissement dans le secteur crypto. Il contribue √† la diversification du portefeuille.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© extr√™me et d'incertitude r√©glementaire.",
          "market_context_link": null,
          "weight_pct": 2.0,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 7.48,
            "volatility": 35.46,
            "buffett_score": null
          }
        },
        {
          "name": "BCH/USD",
          "ticker": "BCH/USD",
          "rationale": "BCH a √©t√© s√©lectionn√© pour son potentiel de rendement dans le secteur crypto, avec une performance YTD de 7.1%. Il sert de satellite pour diversifier le portefeuille avec des actifs √† haut risque.",
          "role": "satellite",
          "risk_note": "Risque de fluctuations de prix importantes et de r√©glementation.",
          "market_context_link": null,
          "weight_pct": 1.3,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 7.1,
            "volatility": 62.83,
            "buffett_score": null
          }
        }
      ]
    },
    "Mod√©r√©": {
      "allocation": {
        "JPMorgan Ultra-Short Municipal Income Fund": 10.66,
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": 14.84,
        "iShares J.P. Morgan EM Local Currency Bond ETF": 8.33,
        "iShares 3 Year International Treasury Bond ETF": 15.0,
        "EQ_590": 15.0,
        "EQ_892": 1.99,
        "EQ_295": 15.0,
        "EQ_807": 8.01,
        "GNO/USD": 0.5,
        "BTS/USD": 0.5,
        "LAZIO/USD": 0.5
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_slsqp_failed",
        "fallback_reason": "Positive directional derivative for linesearch",
        "fallback_heuristic": false,
        "heuristic_name": null,
        "heuristic_version": null,
        "rules_applied": null,
        "rules_parameters": null,
        "why_not_slsqp": null,
        "why_not_slsqp_details": null,
        "message": "Fallback: Positive directional derivative for linesearch",
        "portfolio_vol": 5.62,
        "vol_target": 12.0,
        "vol_tolerance": 3.0,
        "vol_diff": -6.38,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 25.0,
        "turnover_penalty_lambda": 0.1,
        "portfolio_score": 0.571,
        "n_assets": 11,
        "n_bonds": 4,
        "n_crypto": 3,
        "crypto_max_allowed": 5.0,
        "sectors": {
          "Bonds": 48.83,
          "Services publics": 15.0,
          "Industries": 1.99,
          "Finance": 23.009999999999998,
          "Crypto": 1.5
        },
        "bucket_exposure": {
          "defensive": 48.83,
          "core": 15.0,
          "satellite": 26.5
        },
        "bucket_compliance": {
          "core": {
            "actual": 15.0,
            "target_min": 35.0,
            "target_max": 55.0,
            "in_range": false
          },
          "satellite": {
            "actual": 26.5,
            "target_min": 15.0,
            "target_max": 35.0,
            "in_range": true
          },
          "defensive": {
            "actual": 48.8,
            "target_min": 20.0,
            "target_max": 30.0,
            "in_range": false
          },
          "lottery": {
            "actual": 0.0,
            "target_min": 0.0,
            "target_max": 2.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 9629.28,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 0,
          "eigen_clipped_pct": 0.0,
          "eigenvalue_min": 0.00010253138617997774,
          "eigenvalue_max": 0.9873029330319277,
          "eigenvalue_min_raw": 0.00010253138617997774,
          "matrix_size": 56,
          "is_well_conditioned": true,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Mod√©r√©",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 12.0,
              "observed": 5.62,
              "slack": -3.38,
              "binding": false,
              "status": "VIOLATED",
              "details": {
                "tolerance": 3.0,
                "range_min": 9.0,
                "range_max": 15.0,
                "diff_from_target": -6.38
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 15.0,
              "observed": 48.83,
              "slack": 33.83,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 4,
                "breakdown": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "name": "JPMorgan Ultra-Short Municipal",
                    "weight": 10.66
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "name": "BondBloxx Bloomberg Six Month ",
                    "weight": 14.84
                  },
                  {
                    "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
                    "name": "iShares J.P. Morgan EM Local C",
                    "weight": 8.33
                  },
                  {
                    "id": "iShares 3 Year International Treasury Bond ETF",
                    "name": "iShares 3 Year International T",
                    "weight": 15.0
                  }
                ]
              }
            },
            {
              "name": "crypto_max",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 1.5,
              "slack": 3.5,
              "binding": false,
              "status": "OK",
              "details": {
                "breakdown": [
                  {
                    "id": "GNO/USD",
                    "name": "GNO/USD",
                    "weight": 0.5
                  },
                  {
                    "id": "BTS/USD",
                    "name": "BTS/USD",
                    "weight": 0.5
                  },
                  {
                    "id": "LAZIO/USD",
                    "name": "LAZIO/USD",
                    "weight": 0.5
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 15.0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "iShares 3 Year International Treasury Bond ETF",
                  "name": "iShares 3 Year International Treasury Bo",
                  "weight": 15.0
                },
                "positions_above_10pct": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "weight": 10.66
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "weight": 14.84
                  },
                  {
                    "id": "iShares 3 Year International Treasury Bond ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "EQ_590",
                    "weight": 15.0
                  },
                  {
                    "id": "EQ_295",
                    "weight": 15.0
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 30.0,
              "observed": 23.01,
              "slack": 6.99,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 23.01,
                  "Services publics": 15.0,
                  "Industries": 1.99
                },
                "all_sectors": {
                  "Bonds": 48.83,
                  "Finance": 23.01,
                  "Services publics": 15.0,
                  "Industries": 1.99,
                  "Crypto": 1.5
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 15.0,
              "slack": 35.0,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "France",
                "counts_in_max_region": {
                  "France": 15.0,
                  "Etats-Unis": 15.0,
                  "Inde": 10.0
                },
                "all_regions": {
                  "Global": 50.33,
                  "France": 15.0,
                  "Etats-Unis": 15.0,
                  "Inde": 10.0
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 8,
              "slack": -2,
              "binding": false,
              "status": "VIOLATED",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 8,
              "slack": 10,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 55.0,
              "observed": 15.0,
              "slack": -20.0,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 35.0,
                "range_max": 55.0,
                "slack_from_min": -20.0,
                "slack_from_max": 40.0,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 35.0,
              "observed": 26.5,
              "slack": 8.5,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 15.0,
                "range_max": 35.0,
                "slack_from_min": 11.5,
                "slack_from_max": 8.5,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 30.0,
              "observed": 48.83,
              "slack": -18.83,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 20.0,
                "range_max": 30.0,
                "slack_from_min": 28.83,
                "slack_from_max": -18.83,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 2.0,
              "observed": 0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "range_min": 0.0,
                "range_max": 2.0,
                "slack_from_min": 0.0,
                "slack_from_max": 2.0,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 0,
              "slack": 15.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 13,
            "ok": 10,
            "binding": 1,
            "violated": 2,
            "critical": 0
          },
          "quality_score": 83.1,
          "recommendations": [
            "üü† VIOLATED: volatility exceeded by 3.4% ‚Äî reduce exposure",
            "üü° BINDING: max_single_position at 15.0% (cap=15.0%) ‚Äî monitor closely",
            "üü† VIOLATED: min_assets exceeded by 2.0% ‚Äî reduce exposure",
            "‚ÑπÔ∏è INFO: bucket_core is 20.0% outside target range (indicator only)",
            "‚ÑπÔ∏è INFO: bucket_defensive is 18.8% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 48.83,
              "Actions": 40.0,
              "Crypto": 1.5
            },
            "by_sector": {
              "Finance": 23.01,
              "Services publics": 15.0,
              "Industries": 1.99
            },
            "by_region": {
              "Global": 50.33,
              "France": 15.0,
              "Etats-Unis": 15.0,
              "Inde": 10.0
            },
            "by_risk_bucket": {
              "bond_like": 48.83,
              "equity_like": 40.0,
              "crypto": 1.5
            },
            "by_role": {
              "core": 15.0,
              "satellite": 26.5,
              "defensive": 48.83,
              "lottery": 0.0,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1147.0,
              "hhi_interpretation": "diversified",
              "effective_n": 8.72,
              "n_positions": 11,
              "top_5_weight": 70.5,
              "top_10_weight": 89.83,
              "largest_position": 15.0,
              "smallest_position": 0.5,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "iShares 3 Year International Treasury Bond ETF",
              "ticker": "ISHG",
              "name": "iShares 3 Year International Treasury Bond ETF",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 15.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 15.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
              "ticker": "XHLF",
              "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
              "weight_pct": 14.84,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "JPMorgan Ultra-Short Municipal Income Fund",
              "ticker": "JMST",
              "name": "JPMorgan Ultra-Short Municipal Income Fund",
              "weight_pct": 10.66,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "ticker": "LEMB",
              "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
              "weight_pct": 8.33,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 8.01,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "EQ_892",
              "ticker": "CUMMINSIND",
              "name": "CUMMINS INDIA LTD",
              "weight_pct": 1.99,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Industries",
              "region": "Inde",
              "exchange": null
            },
            {
              "id": "GNO/USD",
              "ticker": "GNO/USD",
              "name": "GNO/USD",
              "weight_pct": 0.5,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BTS/USD",
              "ticker": "BTS/USD",
              "name": "BTS/USD",
              "weight_pct": 0.5,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "LAZIO/USD",
              "ticker": "LAZIO/USD",
              "name": "LAZIO/USD",
              "weight_pct": 0.5,
              "category": "Crypto",
              "risk_bucket": "crypto",
              "sector": "Crypto",
              "region": "Global",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 11,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 90.33,
            "missing_isin": 7,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 36.4,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 13,
          "ok": 10,
          "binding": 1,
          "violated": 2,
          "critical": 0
        },
        "constraint_quality_score": 83.1,
        "constraint_violations": [
          {
            "name": "volatility",
            "constraint_type": "target",
            "cap": 12.0,
            "observed": 5.62,
            "slack": -3.38,
            "binding": false,
            "status": "VIOLATED",
            "details": {
              "tolerance": 3.0,
              "range_min": 9.0,
              "range_max": 15.0,
              "diff_from_target": -6.38
            }
          },
          {
            "name": "min_assets",
            "constraint_type": "min",
            "cap": 10,
            "observed": 8,
            "slack": -2,
            "binding": false,
            "status": "VIOLATED",
            "details": {}
          }
        ],
        "constraint_bindings": [
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 15.0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "iShares 3 Year International Treasury Bond ETF",
                "name": "iShares 3 Year International Treasury Bo",
                "weight": 15.0
              },
              "positions_above_10pct": [
                {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "weight": 10.66
                },
                {
                  "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                  "weight": 14.84
                },
                {
                  "id": "iShares 3 Year International Treasury Bond ETF",
                  "weight": 15.0
                },
                {
                  "id": "EQ_590",
                  "weight": 15.0
                },
                {
                  "id": "EQ_295",
                  "weight": 15.0
                }
              ]
            }
          },
          {
            "name": "bucket_lottery",
            "constraint_type": "range",
            "cap": 2.0,
            "observed": 0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "range_min": 0.0,
              "range_max": 2.0,
              "slack_from_min": 0.0,
              "slack_from_max": 2.0,
              "outside_range": false,
              "is_indicator": true
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 48.83,
            "Actions": 40.0,
            "Crypto": 1.5
          },
          "by_sector": {
            "Finance": 23.01,
            "Services publics": 15.0,
            "Industries": 1.99
          },
          "by_region": {
            "Global": 50.33,
            "France": 15.0,
            "Etats-Unis": 15.0,
            "Inde": 10.0
          },
          "by_risk_bucket": {
            "bond_like": 48.83,
            "equity_like": 40.0,
            "crypto": 1.5
          },
          "by_role": {
            "core": 15.0,
            "satellite": 26.5,
            "defensive": 48.83,
            "lottery": 0.0,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1147.0,
            "hhi_interpretation": "diversified",
            "effective_n": 8.72,
            "n_positions": 11,
            "top_5_weight": 70.5,
            "top_10_weight": 89.83,
            "largest_position": 15.0,
            "smallest_position": 0.5,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 11,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 90.33,
          "missing_isin": 7,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 36.4,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 15.0,
            "min_assets": 10,
            "vol_target": "12.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Mod√©r√©",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "iShares 3 Year International Treasury Bond ETF": "Cet ETF offre une exposition √† des obligations d'√âtat √† court terme, ce qui peut r√©duire la volatilit√© globale [TH].",
        "EQ_590": "ENGIE SA est bien positionn√©e dans le secteur des services publics, b√©n√©ficiant d'une demande stable malgr√© les fluctuations √©conomiques [SEC].",
        "EQ_295": "CBOE GLOBAL MARKETS INC, acteur cl√© dans le domaine financier, peut tirer parti de la volatilit√© du march√© pour g√©n√©rer des revenus [MC].",
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "Ce fonds cible des obligations √† court terme, offrant une stabilit√© dans un environnement de taux d'int√©r√™t variable [TH].",
        "JPMorgan Ultra-Short Municipal Income Fund": "Ce fonds vise √† fournir un revenu stable tout en minimisant la volatilit√© [TH].",
        "iShares J.P. Morgan EM Local Currency Bond ETF": "Cet ETF offre une exposition aux obligations en devises locales des march√©s √©mergents, ce qui peut √™tre b√©n√©fique dans un environnement de taux d'int√©r√™t croissants [TH].",
        "EQ_807": "AXIS BANK LTD, acteur cl√© dans le secteur financier indien, peut b√©n√©ficier de la croissance √©conomique [MC].",
        "EQ_892": "CUMMINS INDIA LTD, acteur majeur dans l'industrie, est bien positionn√©e pour profiter de la croissance en Inde [MC].",
        "GNO/USD": "GNO/USD, en tant qu'actif crypto, pr√©sente un potentiel de rendement √©lev√© mais avec une volatilit√© significative [TH].",
        "BTS/USD": "BTS/USD, un actif crypto, peut offrir des opportunit√©s de croissance, mais est soumis √† des fluctuations importantes [TH].",
        "LAZIO/USD": "LAZIO/USD, un actif crypto, pr√©sente des risques √©lev√©s en raison de la volatilit√© du march√© [TH]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une approche mod√©r√©e, combinant des obligations √† court terme et des actions dans des secteurs stables. Bien qu'il vise √† g√©n√©rer des rendements raisonnables, les fluctuations des march√©s peuvent toujours affecter la performance globale. De plus, l'exposition aux actifs cryptographiques, bien que limit√©e, peut introduire des risques suppl√©mentaires en raison de leur volatilit√©. Les investisseurs doivent donc √©valuer leur tol√©rance au risque avant d'investir dans ce portefeuille. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüü° PROFIL MOD√âR√â : Ce portefeuille pr√©sente un niveau de risque mod√©r√©. Il convient aux investisseurs acceptant une certaine volatilit√© avec un horizon moyen terme (3-5 ans).",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 515,
          "sanitized_length": 515
        },
        "timestamp": "2026-01-09T08:15:38.701143",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "rationale": "Ce fonds offre une exposition √† des obligations municipales √† court terme, ce qui permet de b√©n√©ficier d'une qualit√© de cr√©dit √©lev√©e tout en minimisant la sensibilit√© aux taux d'int√©r√™t. Son faible niveau de volatilit√© en fait un choix prudent pour un investisseur mod√©r√©.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t en cas de hausse rapide des taux.",
          "market_context_link": null,
          "weight_pct": 10.7,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.14,
            "volatility": 1.17,
            "buffett_score": null
          }
        },
        {
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "rationale": "Ce fonds vise √† maintenir une dur√©e cible de six mois, ce qui permet de r√©duire le risque de taux d'int√©r√™t tout en offrant une exposition aux obligations d'√âtat am√©ricaines. Cela convient √† un investisseur cherchant √† √©quilibrer rendement et s√©curit√©.",
          "role": "core",
          "risk_note": "Risque de liquidit√© si les taux d'int√©r√™t augmentent rapidement.",
          "market_context_link": null,
          "weight_pct": 14.8,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": NaN,
            "volatility": 1.31,
            "buffett_score": null
          }
        },
        {
          "name": "iShares J.P. Morgan EM Local Currency Bond ETF",
          "ticker": "LEMB",
          "rationale": "Ce fonds permet d'acc√©der √† des obligations en devises locales des march√©s √©mergents, offrant un potentiel de rendement sup√©rieur malgr√© une volatilit√© plus √©lev√©e. Il diversifie le portefeuille avec une exposition √† des √©conomies en croissance.",
          "role": "satellite",
          "risk_note": "Risque de change et de volatilit√© des march√©s √©mergents.",
          "market_context_link": null,
          "weight_pct": 8.3,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.12,
            "volatility": 7.09,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 3 Year International Treasury Bond ETF",
          "ticker": "ISHG",
          "rationale": "Ce fonds offre une exposition √† des obligations souveraines internationales, ce qui permet de diversifier le risque de cr√©dit tout en maintenant une dur√©e relativement courte. Cela contribue √† la stabilit√© du portefeuille.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t et de fluctuations des devises.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": -0.07,
            "volatility": 7.45,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE pr√©sente un bon rendement en dividende et un ROE solide, ce qui en fait un choix attractif dans le secteur des services publics. Malgr√© une performance YTD n√©gative, sa valorisation reste raisonnable.",
          "role": "income",
          "risk_note": "Risque li√© √† la r√©glementation dans le secteur de l'√©nergie.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CUMMINS INDIA LTD",
          "ticker": "CUMMINSIND",
          "rationale": "Cummins India affiche un ROE √©lev√©, mais son P/E indique une valorisation relativement √©lev√©e. Cela en fait un actif de croissance int√©ressant dans le secteur industriel, bien que sa volatilit√© soit plus marqu√©e.",
          "role": "satellite",
          "risk_note": "Risque de sur√©valuation et de fluctuations √©conomiques en Inde.",
          "market_context_link": "Secteur favoris√©: industrials",
          "weight_pct": 2.0,
          "category": "Actions",
          "sector": "Industries",
          "country": "Inde",
          "metrics": {
            "roe": 26.45,
            "pe_ratio": 49.717125,
            "dividend_yield": 1.25,
            "ytd": "-7.89",
            "volatility": "29.62",
            "buffett_score": 75.3
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE offre une exposition au secteur financier avec un ROE solide et un dividende modeste, ce qui en fait un choix attrayant pour les investisseurs recherchant des revenus. Sa performance YTD positive est un bon signe de momentum.",
          "role": "core",
          "risk_note": "Risque de volatilit√© sur les march√©s financiers.",
          "market_context_link": "Secteur favoris√©: financials",
          "weight_pct": 15.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "AXIS Bank pr√©sente une valorisation raisonnable avec un P/E attractif et un ROE satisfaisant, ce qui en fait un bon choix dans le secteur bancaire indien. Sa performance stable YTD renforce son attrait.",
          "role": "satellite",
          "risk_note": "Risque de cr√©dit et de r√©glementation bancaire en Inde.",
          "market_context_link": "Secteur favoris√©: financials",
          "weight_pct": 8.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "0.97",
            "volatility": "21.53",
            "buffett_score": 80.0
          }
        },
        {
          "name": "GNO/USD",
          "ticker": "GNO/USD",
          "rationale": "GNO/USD a montr√© une performance positive YTD, ce qui indique un certain momentum dans le secteur crypto. Bien que volatile, il peut offrir des opportunit√©s de rendement √©lev√©es.",
          "role": "satellite",
          "risk_note": "Risque √©lev√© de volatilit√© et de r√©gulation dans le secteur crypto.",
          "market_context_link": null,
          "weight_pct": 0.5,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 5.49,
            "volatility": 41.32,
            "buffett_score": null
          }
        },
        {
          "name": "BTS/USD",
          "ticker": "BTS/USD",
          "rationale": "BTS/USD a enregistr√© une performance YTD encore meilleure, ce qui en fait un actif int√©ressant pour diversifier le portefeuille avec un potentiel de rendement. Sa volatilit√© est √† surveiller.",
          "role": "satellite",
          "risk_note": "Risque de fluctuations extr√™mes et de liquidit√©.",
          "market_context_link": null,
          "weight_pct": 0.5,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 7.48,
            "volatility": 35.46,
            "buffett_score": null
          }
        },
        {
          "name": "LAZIO/USD",
          "ticker": "LAZIO/USD",
          "rationale": "LAZIO/USD pr√©sente une performance YTD positive, bien qu'inf√©rieure √† celle de certains autres cryptos. Il peut servir de diversification dans un portefeuille plus large, mais sa volatilit√© est un facteur √† prendre en compte.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© et de d√©pendance au march√© crypto.",
          "market_context_link": null,
          "weight_pct": 0.5,
          "category": "Crypto",
          "sector": "Crypto",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 4.09,
            "volatility": 47.57,
            "buffett_score": null
          }
        }
      ]
    },
    "Stable": {
      "allocation": {
        "JPMorgan Ultra-Short Municipal Income Fund": 15.0,
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": 15.0,
        "iShares 0-3 Month Treasury Bond ETF": 15.0,
        "iShares Short Treasury Bond ETF": 15.0,
        "US Treasury 3 Month Bill ETF": 9.59,
        "EQ_590": 13.8,
        "EQ_807": 8.0,
        "EQ_295": 8.61
      },
      "diagnostics": {
        "converged": false,
        "optimization_mode": "fallback_heuristic",
        "fallback_reason": "Stable profile: strict constraints (vol 6%¬±3%, bonds_min 35%, DEFENSIVE 45-60%) mathematically incompatible with Markowitz optimization",
        "fallback_heuristic": true,
        "heuristic_name": "stable_rules_v1",
        "heuristic_version": "1.0.0",
        "rules_applied": [
          "bonds_min_35pct",
          "defensive_bucket_45_60pct",
          "vol_target_6pct_tolerance_3pct",
          "max_single_position_15pct",
          "max_single_bond_25pct",
          "min_assets_10",
          "max_assets_18",
          "low_vol_assets_preferred"
        ],
        "rules_parameters": {
          "bonds_min": 35.0,
          "vol_target": 6.0,
          "vol_tolerance": 3.0,
          "max_single_position": 15.0,
          "max_single_bond": 25.0,
          "min_assets": 10,
          "max_assets": 18,
          "defensive_min": 45.0,
          "defensive_max": 60.0
        },
        "why_not_slsqp": "vol_target_incompatible_with_markowitz",
        "why_not_slsqp_details": "Le profil Stable requiert vol_target=6% ¬± 3% et >35% obligations. Ces contraintes sont math√©matiquement incompatibles avec l'optimisation Markowitz mean-variance. L'univers d'actifs disponibles ne permet pas d'atteindre une volatilit√© si basse avec diversification suffisante. Fallback vers allocation heuristique (r√®gles pr√©d√©finies).",
        "message": "Fallback heuristique (contraintes strictes)",
        "portfolio_vol": 3.87,
        "vol_target": 6.0,
        "vol_tolerance": 3.0,
        "vol_diff": -2.13,
        "turnover_control_enabled": false,
        "turnover_pct": null,
        "turnover_max_allowed": 15.0,
        "turnover_penalty_lambda": 0.2,
        "portfolio_score": 0.637,
        "n_assets": 8,
        "n_bonds": 5,
        "n_crypto": 0,
        "crypto_max_allowed": 0.0,
        "sectors": {
          "Bonds": 69.59,
          "Services publics": 13.8,
          "Finance": 16.61
        },
        "bucket_exposure": {
          "defensive": 69.59,
          "core": 13.8,
          "satellite": 16.61
        },
        "bucket_compliance": {
          "core": {
            "actual": 13.8,
            "target_min": 30.0,
            "target_max": 40.0,
            "in_range": false
          },
          "satellite": {
            "actual": 16.6,
            "target_min": 5.0,
            "target_max": 15.0,
            "in_range": true
          },
          "defensive": {
            "actual": 69.6,
            "target_min": 45.0,
            "target_max": 60.0,
            "in_range": false
          },
          "lottery": {
            "actual": 0.0,
            "target_min": 0.0,
            "target_max": 0.0,
            "in_range": true
          }
        },
        "corporate_group_exposure": {},
        "covariance_method": "structured+diag_shrink",
        "covariance_empirical_weight": 0.0,
        "covariance_kpis": {
          "condition_number": 331431.29,
          "condition_number_before_shrinkage": null,
          "shrinkage_applied": false,
          "shrinkage_intensity": 0.0,
          "eigen_clipped": 2,
          "eigen_clipped_pct": 3.33,
          "eigenvalue_min": 1e-06,
          "eigenvalue_max": 0.3314312864105387,
          "eigenvalue_min_raw": -0.5569821835050305,
          "matrix_size": 60,
          "is_well_conditioned": false,
          "thresholds": {
            "condition_number_warning": 10000.0,
            "eigen_clipped_pct_warning": 20.0
          }
        },
        "buffett_hard_filter_enabled": true,
        "buffett_min_score": 50.0,
        "constraint_report": {
          "profile_name": "Stable",
          "constraints": [
            {
              "name": "volatility",
              "constraint_type": "target",
              "cap": 6.0,
              "observed": 3.87,
              "slack": 0.87,
              "binding": true,
              "status": "BINDING",
              "details": {
                "tolerance": 3.0,
                "range_min": 3.0,
                "range_max": 9.0,
                "diff_from_target": -2.13
              }
            },
            {
              "name": "bonds_min",
              "constraint_type": "min",
              "cap": 35.0,
              "observed": 69.59,
              "slack": 34.59,
              "binding": false,
              "status": "OK",
              "details": {
                "count": 5,
                "breakdown": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "name": "JPMorgan Ultra-Short Municipal",
                    "weight": 15.0
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "name": "BondBloxx Bloomberg Six Month ",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares 0-3 Month Treasury Bond ETF",
                    "name": "iShares 0-3 Month Treasury Bon",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares Short Treasury Bond ETF",
                    "name": "iShares Short Treasury Bond ET",
                    "weight": 15.0
                  },
                  {
                    "id": "US Treasury 3 Month Bill ETF",
                    "name": "US Treasury 3 Month Bill ETF",
                    "weight": 9.59
                  }
                ]
              }
            },
            {
              "name": "max_single_position",
              "constraint_type": "max",
              "cap": 15.0,
              "observed": 15.0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "largest_position": {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "name": "JPMorgan Ultra-Short Municipal Income Fu",
                  "weight": 15.0
                },
                "positions_above_10pct": [
                  {
                    "id": "JPMorgan Ultra-Short Municipal Income Fund",
                    "weight": 15.0
                  },
                  {
                    "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares 0-3 Month Treasury Bond ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "iShares Short Treasury Bond ETF",
                    "weight": 15.0
                  },
                  {
                    "id": "EQ_590",
                    "weight": 13.8
                  }
                ]
              }
            },
            {
              "name": "max_sector",
              "constraint_type": "max",
              "cap": 30.0,
              "observed": 16.61,
              "slack": 13.39,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "Finance",
                "counts_in_max_sector": {
                  "Finance": 16.61,
                  "Services publics": 13.8
                },
                "all_sectors": {
                  "Bonds": 69.59,
                  "Finance": 16.61,
                  "Services publics": 13.8
                },
                "scope": "EQUITY_LIKE only (excludes Bonds)"
              }
            },
            {
              "name": "max_region",
              "constraint_type": "max",
              "cap": 50.0,
              "observed": 13.8,
              "slack": 36.2,
              "binding": false,
              "status": "OK",
              "details": {
                "most_concentrated": "France",
                "counts_in_max_region": {
                  "France": 13.8,
                  "Etats-Unis": 8.61,
                  "Inde": 8.0
                },
                "all_regions": {
                  "Global": 69.59,
                  "France": 13.8,
                  "Etats-Unis": 8.61,
                  "Inde": 8.0
                },
                "scope": "EQUITY_LIKE + LEVERAGED only"
              }
            },
            {
              "name": "min_assets",
              "constraint_type": "min",
              "cap": 10,
              "observed": 8,
              "slack": -2,
              "binding": false,
              "status": "VIOLATED",
              "details": {}
            },
            {
              "name": "max_assets",
              "constraint_type": "max",
              "cap": 18,
              "observed": 8,
              "slack": 10,
              "binding": false,
              "status": "OK",
              "details": {}
            },
            {
              "name": "bucket_core",
              "constraint_type": "range",
              "cap": 40.0,
              "observed": 13.8,
              "slack": -16.2,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 30.0,
                "range_max": 40.0,
                "slack_from_min": -16.2,
                "slack_from_max": 26.2,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_satellite",
              "constraint_type": "range",
              "cap": 15.0,
              "observed": 16.61,
              "slack": -1.61,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 5.0,
                "range_max": 15.0,
                "slack_from_min": 11.61,
                "slack_from_max": -1.61,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_defensive",
              "constraint_type": "range",
              "cap": 60.0,
              "observed": 69.59,
              "slack": -9.59,
              "binding": false,
              "status": "OK",
              "details": {
                "range_min": 45.0,
                "range_max": 60.0,
                "slack_from_min": 24.59,
                "slack_from_max": -9.59,
                "outside_range": true,
                "is_indicator": true
              }
            },
            {
              "name": "bucket_lottery",
              "constraint_type": "range",
              "cap": 0.0,
              "observed": 0,
              "slack": 0.0,
              "binding": true,
              "status": "BINDING",
              "details": {
                "range_min": 0.0,
                "range_max": 0.0,
                "slack_from_min": 0.0,
                "slack_from_max": 0.0,
                "outside_range": false,
                "is_indicator": true
              }
            },
            {
              "name": "alternative_cap",
              "constraint_type": "max",
              "cap": 5.0,
              "observed": 0,
              "slack": 5.0,
              "binding": false,
              "status": "OK",
              "details": {
                "includes": [
                  "Derivative Income",
                  "Defined Outcome",
                  "Allocation funds"
                ]
              }
            }
          ],
          "summary": {
            "total": 12,
            "ok": 9,
            "binding": 2,
            "violated": 1,
            "critical": 0
          },
          "quality_score": 88.3,
          "recommendations": [
            "üü° BINDING: max_single_position at 15.0% (cap=15.0%) ‚Äî monitor closely",
            "üü† VIOLATED: min_assets exceeded by 2.0% ‚Äî reduce exposure",
            "‚ÑπÔ∏è INFO: bucket_core is 16.2% outside target range (indicator only)"
          ],
          "exposures": {
            "by_category": {
              "Obligations": 69.59,
              "Actions": 30.41
            },
            "by_sector": {
              "Finance": 16.61,
              "Services publics": 13.8
            },
            "by_region": {
              "Global": 69.59,
              "France": 13.8,
              "Etats-Unis": 8.61,
              "Inde": 8.0
            },
            "by_risk_bucket": {
              "bond_like": 69.59,
              "equity_like": 30.41
            },
            "by_role": {
              "core": 13.8,
              "satellite": 16.61,
              "defensive": 69.59,
              "lottery": 0.0,
              "unknown": 0.0
            },
            "concentration": {
              "hhi": 1321.0,
              "hhi_interpretation": "diversified",
              "effective_n": 7.57,
              "n_positions": 8,
              "top_5_weight": 73.8,
              "top_10_weight": 100.0,
              "largest_position": 15.0,
              "smallest_position": 8.0,
              "thresholds": {
                "well_diversified": "HHI < 1000",
                "diversified": "HHI 1000-1500",
                "moderately_concentrated": "HHI 1500-2500",
                "highly_concentrated": "HHI > 2500"
              },
              "source": "exposures.py"
            }
          },
          "ticker_mapping": [
            {
              "id": "JPMorgan Ultra-Short Municipal Income Fund",
              "ticker": "JMST",
              "name": "JPMorgan Ultra-Short Municipal Income Fund",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
              "ticker": "XHLF",
              "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ET",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares 0-3 Month Treasury Bond ETF",
              "ticker": "SGOV",
              "name": "iShares 0-3 Month Treasury Bond ETF",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "iShares Short Treasury Bond ETF",
              "ticker": "SHV",
              "name": "iShares Short Treasury Bond ETF",
              "weight_pct": 15.0,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_590",
              "ticker": "ENGI",
              "name": "ENGIE SA",
              "weight_pct": 13.8,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Services publics",
              "region": "France",
              "exchange": null
            },
            {
              "id": "US Treasury 3 Month Bill ETF",
              "ticker": "TBIL",
              "name": "US Treasury 3 Month Bill ETF",
              "weight_pct": 9.59,
              "category": "Obligations",
              "risk_bucket": "bond_like",
              "sector": "Bonds",
              "region": "Global",
              "exchange": null
            },
            {
              "id": "EQ_295",
              "ticker": "CBOE",
              "name": "CBOE GLOBAL MARKETS INC",
              "weight_pct": 8.61,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Etats-Unis",
              "exchange": null
            },
            {
              "id": "EQ_807",
              "ticker": "AXISBANK",
              "name": "AXIS BANK LTD",
              "weight_pct": 8.0,
              "category": "Actions",
              "risk_bucket": "equity_like",
              "sector": "Finance",
              "region": "Inde",
              "exchange": null
            }
          ],
          "execution_summary": {
            "n_positions": 8,
            "n_exchanges": 0,
            "exchanges": [],
            "total_weight": 100.0,
            "missing_isin": 3,
            "missing_ticker": 0,
            "data_quality": {
              "isin_coverage": 62.5,
              "ticker_coverage": 100.0
            },
            "ready_for_execution": true
          }
        },
        "constraint_summary": {
          "total": 12,
          "ok": 9,
          "binding": 2,
          "violated": 1,
          "critical": 0
        },
        "constraint_quality_score": 88.3,
        "constraint_violations": [
          {
            "name": "min_assets",
            "constraint_type": "min",
            "cap": 10,
            "observed": 8,
            "slack": -2,
            "binding": false,
            "status": "VIOLATED",
            "details": {}
          }
        ],
        "constraint_bindings": [
          {
            "name": "volatility",
            "constraint_type": "target",
            "cap": 6.0,
            "observed": 3.87,
            "slack": 0.87,
            "binding": true,
            "status": "BINDING",
            "details": {
              "tolerance": 3.0,
              "range_min": 3.0,
              "range_max": 9.0,
              "diff_from_target": -2.13
            }
          },
          {
            "name": "max_single_position",
            "constraint_type": "max",
            "cap": 15.0,
            "observed": 15.0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "largest_position": {
                "id": "JPMorgan Ultra-Short Municipal Income Fund",
                "name": "JPMorgan Ultra-Short Municipal Income Fu",
                "weight": 15.0
              },
              "positions_above_10pct": [
                {
                  "id": "JPMorgan Ultra-Short Municipal Income Fund",
                  "weight": 15.0
                },
                {
                  "id": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
                  "weight": 15.0
                },
                {
                  "id": "iShares 0-3 Month Treasury Bond ETF",
                  "weight": 15.0
                },
                {
                  "id": "iShares Short Treasury Bond ETF",
                  "weight": 15.0
                },
                {
                  "id": "EQ_590",
                  "weight": 13.8
                }
              ]
            }
          },
          {
            "name": "bucket_lottery",
            "constraint_type": "range",
            "cap": 0.0,
            "observed": 0,
            "slack": 0.0,
            "binding": true,
            "status": "BINDING",
            "details": {
              "range_min": 0.0,
              "range_max": 0.0,
              "slack_from_min": 0.0,
              "slack_from_max": 0.0,
              "outside_range": false,
              "is_indicator": true
            }
          }
        ],
        "exposures": {
          "by_category": {
            "Obligations": 69.59,
            "Actions": 30.41
          },
          "by_sector": {
            "Finance": 16.61,
            "Services publics": 13.8
          },
          "by_region": {
            "Global": 69.59,
            "France": 13.8,
            "Etats-Unis": 8.61,
            "Inde": 8.0
          },
          "by_risk_bucket": {
            "bond_like": 69.59,
            "equity_like": 30.41
          },
          "by_role": {
            "core": 13.8,
            "satellite": 16.61,
            "defensive": 69.59,
            "lottery": 0.0,
            "unknown": 0.0
          },
          "concentration": {
            "hhi": 1321.0,
            "hhi_interpretation": "diversified",
            "effective_n": 7.57,
            "n_positions": 8,
            "top_5_weight": 73.8,
            "top_10_weight": 100.0,
            "largest_position": 15.0,
            "smallest_position": 8.0,
            "thresholds": {
              "well_diversified": "HHI < 1000",
              "diversified": "HHI 1000-1500",
              "moderately_concentrated": "HHI 1500-2500",
              "highly_concentrated": "HHI > 2500"
            },
            "source": "exposures.py"
          }
        },
        "execution_summary": {
          "n_positions": 8,
          "n_exchanges": 0,
          "exchanges": [],
          "total_weight": 100.0,
          "missing_isin": 3,
          "missing_ticker": 0,
          "data_quality": {
            "isin_coverage": 62.5,
            "ticker_coverage": 100.0
          },
          "ready_for_execution": true
        },
        "_feasibility": {
          "feasible": true,
          "reason": null,
          "capacity": {
            "bonds": 8700.0,
            "n_candidates": 666,
            "vol_range": "1%-150%"
          },
          "requirements": {
            "bonds_min": 35.0,
            "min_assets": 10,
            "vol_target": "6.0% ¬±3.0%"
          }
        },
        "llm_sanitizer": {
          "profile": "Stable",
          "justifications_cleaned": 0,
          "total_hits": 0,
          "total_warnings": 0,
          "hit_labels": [],
          "used_fallback": false
        },
        "used_fallback_comment": false
      },
      "justifications": {
        "JPMorgan Ultra-Short Municipal Income Fund": "Ce fonds vise √† fournir un revenu stable tout en minimisant la volatilit√© [TH].",
        "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF": "Ce fonds cible des obligations √† court terme, offrant une stabilit√© dans un environnement de taux d'int√©r√™t variable [TH].",
        "iShares 0-3 Month Treasury Bond ETF": "Cet ETF est con√ßu pour offrir une exposition √† des obligations d'√âtat √† tr√®s court terme, r√©duisant ainsi le risque de taux [TH].",
        "iShares Short Treasury Bond ETF": "Ce fonds permet d'acc√©der √† des obligations d'√âtat √† court terme, ce qui peut aider √† g√©rer la volatilit√© [TH].",
        "EQ_590": "ENGIE SA est bien positionn√©e dans le secteur des services publics, b√©n√©ficiant d'une demande stable malgr√© les fluctuations √©conomiques [SEC].",
        "US Treasury 3 Month Bill ETF": "Cet ETF offre une exposition aux bons du Tr√©sor √† court terme, ce qui peut r√©duire la volatilit√© globale [TH].",
        "EQ_295": "CBOE GLOBAL MARKETS INC, acteur cl√© dans le domaine financier, peut tirer parti de la volatilit√© du march√© pour g√©n√©rer des revenus [MC].",
        "EQ_807": "AXIS BANK LTD, acteur cl√© dans le secteur financier indien, peut b√©n√©ficier de la croissance √©conomique [MC]."
      },
      "comment": "Ce portefeuille mod√®le pr√©sente une strat√©gie d'investissement stable, ax√©e sur des obligations √† court terme et des actions dans des secteurs d√©fensifs. Bien qu'il vise √† minimiser la volatilit√©, il est essentiel de reconna√Ætre que des fluctuations de march√© peuvent encore survenir, impactant la performance. De plus, la concentration sur des actifs √† faible risque peut limiter le potentiel de rendement √† long terme. Les investisseurs doivent donc √™tre conscients des risques associ√©s √† ce portefeuille. ‚ö†Ô∏è Performances calcul√©es sur 90 jours, hors frais de transaction et fiscalit√©. Sharpe ratio annualis√© sur p√©riode courte (non repr√©sentatif long terme). Les performances pass√©es ne pr√©jugent pas des performances futures.",
      "compliance": "‚ö†Ô∏è AVERTISSEMENT : Ce portefeuille est g√©n√©r√© √† titre informatif uniquement et ne constitue pas un conseil en investissement. Les performances pass√©es ne pr√©jugent pas des performances futures. Investir comporte des risques de perte en capital. Consultez un conseiller financier agr√©√© avant toute d√©cision d'investissement.\n\nüü¢ PROFIL STABLE : Ce portefeuille vise une volatilit√© r√©duite. Il convient aux investisseurs prudents avec un horizon court √† moyen terme.",
      "_compliance_audit": {
        "llm_sanitizer": {
          "sanitized": false,
          "removed_sentences": 0,
          "hits": [],
          "warnings": [],
          "removal_ratio": 0.0,
          "original_length": 507,
          "sanitized_length": 507
        },
        "timestamp": "2026-01-09T08:15:38.701706",
        "version": "v4.8.7",
        "fallback_used": false
      },
      "_asset_details": [
        {
          "name": "JPMorgan Ultra-Short Municipal Income Fund",
          "ticker": "JMST",
          "rationale": "Ce fonds offre une exposition √† des obligations municipales √† court terme, ce qui permet de minimiser le risque de taux d'int√©r√™t tout en g√©n√©rant des revenus. Sa faible volatilit√© en fait un choix id√©al pour un investisseur cherchant √† pr√©server son capital.",
          "role": "income",
          "risk_note": "Risque de cr√©dit associ√© aux obligations municipales.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.14,
            "volatility": 1.17,
            "buffett_score": null
          }
        },
        {
          "name": "BondBloxx Bloomberg Six Month Target Duration US Treasury ETF",
          "ticker": "XHLF",
          "rationale": "Ce fonds cible une dur√©e de six mois, offrant une protection contre la volatilit√© des taux d'int√©r√™t tout en maintenant une exposition √† des obligations d'√âtat am√©ricaines de haute qualit√©. Cela correspond bien √† un profil d'investisseur stable.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t, bien que limit√© par la courte dur√©e.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": NaN,
            "volatility": 1.31,
            "buffett_score": null
          }
        },
        {
          "name": "iShares 0-3 Month Treasury Bond ETF",
          "ticker": "SGOV",
          "rationale": "Avec une exposition √† des bons du Tr√©sor √† tr√®s court terme, ce fonds offre une s√©curit√© et une liquidit√© √©lev√©es, tout en g√©n√©rant des rendements mod√©r√©s. C'est un choix prudent pour un investisseur ax√© sur la pr√©servation du capital.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t, mais tr√®s limit√© en raison de la courte dur√©e.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.03,
            "volatility": 1.32,
            "buffett_score": null
          }
        },
        {
          "name": "iShares Short Treasury Bond ETF",
          "ticker": "SHV",
          "rationale": "Ce fonds investit dans des obligations du Tr√©sor √† court terme, offrant une s√©curit√© et une volatilit√© r√©duite, ce qui est essentiel pour un investisseur cherchant √† minimiser les fluctuations de son portefeuille. Son rendement est stable, bien qu'il soit modeste.",
          "role": "core",
          "risk_note": "Risque de taux d'int√©r√™t, mais att√©nu√© par la dur√©e courte.",
          "market_context_link": null,
          "weight_pct": 15.0,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.04,
            "volatility": 1.43,
            "buffett_score": null
          }
        },
        {
          "name": "US Treasury 3 Month Bill ETF",
          "ticker": "TBIL",
          "rationale": "Ce fonds offre une exposition √† des bons du Tr√©sor √† trois mois, garantissant une s√©curit√© et une liquidit√© √©lev√©es, tout en r√©pondant aux besoins de revenus r√©guliers. C'est un choix solide pour un investisseur prudent.",
          "role": "income",
          "risk_note": "Risque de taux d'int√©r√™t, bien que faible en raison de la courte dur√©e.",
          "market_context_link": null,
          "weight_pct": 9.6,
          "category": "Obligations",
          "sector": "Bonds",
          "country": "Global",
          "metrics": {
            "roe": null,
            "pe_ratio": null,
            "dividend_yield": null,
            "ytd": 0.02,
            "volatility": 1.33,
            "buffett_score": null
          }
        },
        {
          "name": "ENGIE SA",
          "ticker": "ENGI",
          "rationale": "ENGIE pr√©sente un bon rendement en dividende et un ROE attractif, ce qui en fait une option int√©ressante pour les investisseurs √† la recherche de revenus passifs. Bien que sa performance YTD soit n√©gative, sa solidit√© financi√®re et son score qualit√© Buffett √©lev√© en font un choix fiable.",
          "role": "income",
          "risk_note": "Risque li√© √† la volatilit√© du secteur des services publics et aux fluctuations des prix de l'√©nergie.",
          "market_context_link": null,
          "weight_pct": 13.8,
          "category": "Actions",
          "sector": "Services publics",
          "country": "France",
          "metrics": {
            "roe": 12,
            "pe_ratio": 11.31527,
            "dividend_yield": 6.24,
            "ytd": "-0.30",
            "volatility": "17.63",
            "buffett_score": 80.0
          }
        },
        {
          "name": "AXIS BANK LTD",
          "ticker": "AXISBANK",
          "rationale": "Avec un ROE solide et une performance positive, AXIS BANK est bien positionn√©e dans le secteur financier en croissance. Son inclusion dans le portefeuille apporte une exposition √† un march√© √©mergent dynamique, tout en offrant un potentiel de croissance.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© li√© aux march√©s √©mergents et aux conditions √©conomiques en Inde.",
          "market_context_link": "secteur favoris√©: finance",
          "weight_pct": 8.0,
          "category": "Actions",
          "sector": "Finance",
          "country": "Inde",
          "metrics": {
            "roe": 15.01,
            "pe_ratio": 15.524266,
            "dividend_yield": 0.08,
            "ytd": "0.97",
            "volatility": "21.53",
            "buffett_score": 80.0
          }
        },
        {
          "name": "CBOE GLOBAL MARKETS INC",
          "ticker": "CBOE",
          "rationale": "CBOE pr√©sente un ROE √©lev√© et une performance stable, ce qui en fait un choix attractif dans le secteur financier. Son mod√®le d'affaires diversifi√© et sa position sur le march√© des options renforcent sa r√©silience.",
          "role": "satellite",
          "risk_note": "Risque de volatilit√© du march√© et d√©pendance aux volumes de transactions.",
          "market_context_link": "secteur favoris√©: finance",
          "weight_pct": 8.6,
          "category": "Actions",
          "sector": "Finance",
          "country": "Etats-Unis",
          "metrics": {
            "roe": 17.87,
            "pe_ratio": 26.678493,
            "dividend_yield": 0.94,
            "ytd": "1.32",
            "volatility": "20.19",
            "buffett_score": 80.0
          }
        }
      ]
    }
  }
}